(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aeea500"],{8800:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Dialog",{ref:"dialog",attrs:{"can-return":0!==t.catalogData.category.length||0!==t.catalogData.searchRequest.length},on:{hide:t.onDialogHide,return:t.onDialogReturn}},[""===t.catalogData.category&&""===t.catalogData.searchRequest?e("section",[e("section",{staticClass:"search-wrapper"},[e("div",{staticClass:"search"},[e("input",{ref:"searchInput",attrs:{placeholder:"Поиск Товара",type:"text",autocorrect:"off",autocapitalize:"off"},on:{input:t.onSearchInput,keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.onSearchResultChoose(a.target.value)}}}),0!==t.searchHelperResults.length&&""===t.catalogData.category?e("section",{staticClass:"search-helper"},t._l(t.searchHelperResults,function(a){return e("p",{on:{click:function(e){return t.onSearchResultChoose(a)}}},[t._v(t._s(a))])}),0):t._e()])]),e("CategoryChoose",{ref:"categoryChoose",attrs:{"is-component":!0,"basket-data":t.products},on:{choose:t.onCategoryChoose,basketRemove:t.onRemove}})],1):t._e(),""!==t.catalogData.category||""!==t.catalogData.searchRequest?e("Catalog",{attrs:{"is-component":!0,"component-data":t.catalogData,"basket-data":t.products},on:{buy:t.onBuy,basketRemove:t.onRemove}}):t._e()],1)},s=[],n=e("f499"),r=e.n(n),c=(e("7514"),e("ac0c")),u=e("247d"),i=e("2017"),l=e("d175"),h=e("7b6f"),g=e("e5e2"),p={name:"WaybillEditingDialog",components:{CategoryChoose:c["default"],Catalog:u["default"],Dialog:i["a"]},props:{productsData:{type:Array,required:!0}},data:function(){return{catalogData:{category:"",subCategory:"",searchRequest:"",buttonText:"Добавить"},searchHelperResults:[],products:[]}},methods:{onBuy:function(t){var a=this.products.find(function(a){return a.id===t.id});if(a)a.boughtQuantity++;else{var e=JSON.parse(r()(t));e.boughtQuantity=1,e.isValid=!0,this.products.push(e)}},onSearchInput:function(t){var a=this,e=t.target.value;0!==e.length?l["a"].getSearchHelper(e).then(function(t){null!==t?t.json().then(function(t){a.searchHelperResults=t}):a.searchHelperResults=[]}):0!==this.searchHelperResults.length&&(this.searchHelperResults=[])},onSearchResultChoose:function(t){this.catalogData.searchRequest=t,this.searchHelperResults=[]},onCategoryChoose:function(t){this.catalogData.category=t.category,this.catalogData.subCategory=t.subCategory,this.searchHelperResults=[]},onDialogReturn:function(){this.$store.dispatch(g["a"].catalog+"/"+h["d"]),this.catalogData.category="",this.catalogData.subCategory="",this.catalogData.searchRequest=""},onDialogHide:function(){this.$store.dispatch(g["a"].catalog+"/"+h["d"]),this.catalogData.category="",this.catalogData.subCategory="",this.catalogData.searchRequest=""},onRemove:function(t){this.products[t]&&this.products.splice(t,1)},onQuantityChange:function(t){var a=t.item,e=t.newQuantity;a.boughtQuantity=e}},mounted:function(){this.products=this.$props.productsData?this.$props.productsData:[],setTimeout(function(){})}},d=p,f=(e("c99a"),e("2877")),y=Object(f["a"])(d,o,s,!1,null,"35254a06",null);a["default"]=y.exports},8939:function(t,a,e){},c99a:function(t,a,e){"use strict";var o=e("8939"),s=e.n(o);s.a}}]);
//# sourceMappingURL=chunk-2aeea500.aab16d11.js.map