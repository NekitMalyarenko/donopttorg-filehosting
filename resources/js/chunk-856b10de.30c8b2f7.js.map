{"version":3,"sources":["webpack:///./src/views/components/catalog/Basket.vue?9d7b","webpack:///./src/views/components/catalog/Basket.vue?679e","webpack:///src/views/components/catalog/Basket.vue","webpack:///./src/views/components/catalog/Basket.vue?f747","webpack:///./src/views/components/catalog/Basket.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Basket_vue_vue_type_style_index_0_id_c4353956_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Basket_vue_vue_type_style_index_0_id_c4353956_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","basket-minimized","basketWindow","isMinimized","attrs","id","_e","on","click","$event","closeBasket","data","is-editable","is-full-size","height","remove","$emit","quantityChange","onQuantityChange","_v","_s","basketTotalPrice","isBasketValid","canBeOrdered","staticRenderFns","Basketvue_type_script_lang_js_","name","components","ProductsTable","props","type","Array","required","Boolean","default","methods","Object","objectSpread","vuex_esm","all_modules_name","catalog","all_mutations_type","REMOVE_FROM_BASKET","CLEAR","payload","item","newQuantity","boughtQuantity","clear","computed","isBasketWindowVisible","length","basket","i","isValid","res","price","Math","round","created","destroyed","catalog_Basketvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uIAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAA4kBE,EAAG,4CCA/kB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA6B,CAAAN,EAAA,sBAAAI,EAAA,OAAwCE,YAAA,SAAAC,MAAA,CAA4BC,mBAAAR,EAAAS,aAAAC,aAAkDC,MAAA,CAAQC,GAAA,WAAe,CAAAR,EAAA,OAAYE,YAAA,WAAsB,CAAAN,EAAAS,aAAAC,YAA4JV,EAAAa,KAA5JT,EAAA,KAA0CE,YAAA,mCAAAQ,GAAA,CAAmDC,MAAA,SAAAC,GAAyBhB,EAAAS,aAAAC,aAAA,MAAsCV,EAAAS,aAAA,YAAAL,EAAA,KAAkDE,YAAA,mCAAAQ,GAAA,CAAmDC,MAAA,SAAAC,GAAyBhB,EAAAS,aAAAC,aAAA,MAAuCV,EAAAa,KAAAT,EAAA,KAAmBE,YAAA,yBAAAQ,GAAA,CAAyCC,MAAAf,EAAAiB,iBAAyBb,EAAA,iBAAwBO,MAAA,CAAOO,KAAAlB,EAAAkB,KAAAC,eAAA,EAAAC,gBAAA,EAAAC,OAAA,KAAqEP,GAAA,CAAKQ,OAAA,SAAAN,GAA0B,OAAAhB,EAAAuB,MAAA,SAAAP,IAAmCQ,eAAAxB,EAAAyB,oBAAwCrB,EAAA,OAAYE,YAAA,UAAqB,CAAAF,EAAA,KAAUE,YAAA,YAAuB,CAAAN,EAAA0B,GAAA,WAAAtB,EAAA,QAAAJ,EAAA0B,GAAA1B,EAAA2B,GAAA3B,EAAA4B,kBAAA,SAAA5B,EAAA6B,eAAA7B,EAAA4B,iBAAA,GAAA5B,EAAA8B,aAAA1B,EAAA,UAA6JE,YAAA,QAAAQ,GAAA,CAAwBC,MAAA,SAAAC,GAAyB,OAAAhB,EAAAuB,MAAA,eAA+B,CAAAvB,EAAA0B,GAAA,cAAA1B,EAAAa,QAAA,GAAAb,EAAAa,QACzsCkB,EAAA,+DCqCAC,EAAA,CACAC,KAAA,SAEAC,WAAA,CAAAC,gBAAA,MAEAC,MAAA,CACAlB,KAAA,CACAmB,KAAAC,MACAC,UAAA,GAGAT,aAAA,CACAO,KAAAG,QACAC,SAAA,IAIAvB,KAAA,WACA,OACAT,aAAA,CACAC,aAAA,EACAW,OAAA,QAKAqB,QAAAC,OAAAC,EAAA,KAAAD,CAAA,GACAA,OAAAE,EAAA,KAAAF,CAAAG,EAAA,KAAAC,QAAA,CACAC,EAAA,KAAAD,QAAAE,mBACAD,EAAA,KAAAD,QAAAG,QAHA,CAMAzB,iBANA,SAMA0B,GAAA,IACAC,EAAAD,EAAAC,KAAAC,EAAAF,EAAAE,YACAD,EAAAE,eAAAD,GAGApC,YAXA,WAYAhB,KAAAsD,WAIAC,SAAA,CAEAC,sBAAA,WACA,WAAAxD,KAAAiB,KAAAwC,QAGA7B,cAAA,WAGA,IAFA,IAAA8B,EAAA1D,KAAAiB,KAEA0C,EAAA,EAAAA,EAAAD,EAAAD,OAAAE,IACA,IAAAD,EAAAC,GAAAC,UAAAF,EAAAC,GAAAN,eACA,SAIA,UAGA1B,iBAAA,WAEA,GAAA3B,KAAA4B,cAAA,CAIA,IAHA,IAAAiC,EAAA,EACAH,EAAA1D,KAAAiB,KAEA0C,EAAA,EAAAA,EAAAD,EAAAD,OAAAE,IACAE,GAAAH,EAAAC,GAAAG,MAAAJ,EAAAC,GAAAN,eAGA,OAAAU,KAAAC,MAAA,IAAAH,GAAA,IAEA,WAKAI,QA7EA,aAmFAC,UAnFA,cCtC8WC,EAAA,0BCQ9WC,EAAgB1B,OAAA2B,EAAA,KAAA3B,CACdyB,EACArE,EACAgC,GACF,EACA,KACA,WACA,MAIewC,EAAA,WAAAF","file":"js/chunk-856b10de.30c8b2f7.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=style&index=0&id=c4353956&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=style&index=0&id=c4353956&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basket-wrapper\"},[(_vm.isBasketWindowVisible)?_c('div',{staticClass:\"basket\",class:{ 'basket-minimized': _vm.basketWindow.isMinimized},attrs:{\"id\":\"basket\"}},[_c('div',{staticClass:\"top-bar\"},[(!_vm.basketWindow.isMinimized)?_c('i',{staticClass:\"far fa-window-minimize clickable\",on:{\"click\":function($event){_vm.basketWindow.isMinimized = true}}}):_vm._e(),(_vm.basketWindow.isMinimized)?_c('i',{staticClass:\"fas fa-window-minimize clickable\",on:{\"click\":function($event){_vm.basketWindow.isMinimized = false}}}):_vm._e(),_c('i',{staticClass:\"fas fa-times clickable\",on:{\"click\":_vm.closeBasket}})]),_c('ProductsTable',{attrs:{\"data\":_vm.data,\"is-editable\":true,\"is-full-size\":false,\"height\":239},on:{\"remove\":function($event){return _vm.$emit('remove', $event)},\"quantityChange\":_vm.onQuantityChange}}),_c('div',{staticClass:\"bottom\"},[_c('p',{staticClass:\"totalSum\"},[_vm._v(\"Итого: \"),_c('span',[_vm._v(_vm._s(_vm.basketTotalPrice)+\"₴\")])]),(_vm.isBasketValid && _vm.basketTotalPrice > 0 && _vm.canBeOrdered)?_c('button',{staticClass:\"right\",on:{\"click\":function($event){return _vm.$emit('ordering')}}},[_vm._v(\"Оформить\")]):_vm._e()])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"basket-wrapper\">\r\n        <div class=\"basket\" v-if=\"isBasketWindowVisible\" id=\"basket\" v-bind:class=\"{ 'basket-minimized': basketWindow.isMinimized}\">\r\n\r\n            <div class=\"top-bar\">\r\n\r\n                <!--<div class=\"left\">\r\n                    <p class=\"title\">Итого: {{basketTotalPrice}}₴</p>\r\n\r\n                    <button v-if=\"isBasketValid && basketTotalPrice > 0 && canBeOrdered\" v-on:click=\"$emit('ordering')\">Оформить</button>\r\n                </div>-->\r\n\r\n                <i class=\"far fa-window-minimize clickable\" v-if=\"!basketWindow.isMinimized\" v-on:click=\"basketWindow.isMinimized = true\"></i>\r\n                <i class=\"fas fa-window-minimize clickable\" v-if=\"basketWindow.isMinimized\" v-on:click=\"basketWindow.isMinimized = false\"></i>\r\n                <!--<i class=\"fas fa-expand clickable\"></i>-->\r\n                <i class=\"fas fa-times clickable\" v-on:click=\"closeBasket\"></i>\r\n            </div>\r\n\r\n            <ProductsTable @remove=\"$emit('remove', $event)\" @quantityChange=\"onQuantityChange\"\r\n                           v-bind:data=\"data\" :is-editable=\"true\"\r\n                           :is-full-size=\"false\" :height=\"239\">\r\n            </ProductsTable>\r\n\r\n            <div class=\"bottom\">\r\n                <p class=\"totalSum\">Итого: <span>{{basketTotalPrice}}₴</span></p>\r\n\r\n                <button v-if=\"isBasketValid && basketTotalPrice > 0 && canBeOrdered\" class=\"right\" v-on:click=\"$emit('ordering')\">Оформить</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapMutations } from 'vuex';\r\n    import modules from \"../../../store/all.modules.name\"\r\n    import mutations from \"../../../store/all.mutations.type\";\r\n    import ProductsTable from \"../ProductsTable\";\r\n\r\n    export default {\r\n        name: \"Basket\",\r\n\r\n        components: {ProductsTable},\r\n\r\n        props: {\r\n            data: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n\r\n            canBeOrdered: {\r\n                type: Boolean,\r\n                default: true,\r\n            },\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                basketWindow: {\r\n                    isMinimized: false,\r\n                    height: null,\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            ...mapMutations(modules.catalog, [\r\n                mutations.catalog.REMOVE_FROM_BASKET,\r\n                mutations.catalog.CLEAR,\r\n            ]),\r\n\r\n            onQuantityChange(payload) {\r\n                let {item, newQuantity} = payload;\r\n                item.boughtQuantity = newQuantity;\r\n            },\r\n\r\n            closeBasket() {\r\n                this.clear();\r\n            },\r\n        },\r\n\r\n        computed: {\r\n\r\n            isBasketWindowVisible: function () {\r\n                return this.data.length !== 0\r\n            },\r\n\r\n            isBasketValid: function () {\r\n                let basket = this.data;\r\n\r\n                for (let i = 0; i < basket.length; i++) {\r\n                    if (!basket[i].isValid || !basket[i].boughtQuantity) {\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                return true;\r\n            },\r\n\r\n            basketTotalPrice: function() {\r\n\r\n                if (this.isBasketValid) {\r\n                    let res = 0,\r\n                        basket = this.data;\r\n\r\n                    for (let i = 0; i < basket.length; i++) {\r\n                        res += basket[i].price * basket[i].boughtQuantity;\r\n                    }\r\n\r\n                    return Math.round(res * 1000) / 1000;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            },\r\n        },\r\n\r\n        created() {\r\n            /*if (mySessionStorage.has(storageKey)) {\r\n                this.basket = mySessionStorage.getObject(storageKey);\r\n            }*/\r\n        },\r\n\r\n        destroyed() {\r\n            /*if (this.basket.length !== 0)\r\n                mySessionStorage.addObject(storageKey, this.basket);*/\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    @import '../../../assets/basic'\r\n\r\n    .basket-wrapper\r\n        width: 90%\r\n        max-width: 1200px\r\n        position: fixed\r\n        bottom: 0\r\n        left: 0\r\n        right: 0\r\n        margin-left: auto\r\n        margin-right: auto\r\n\r\n        .basket-minimized\r\n            height: 21px!important\r\n\r\n        .basket\r\n            position: absolute\r\n            overflow: hidden\r\n            width: 450px\r\n            height: 300px\r\n            transition: 0.5s\r\n            right: 0\r\n            bottom: 0\r\n            background-color: $background-color\r\n            box-shadow: 0 0 6px rgba(0,0,0,0.5)\r\n            border-radius: 5px 5px 0 0\r\n            font-family: Roboto, sans-serif\r\n\r\n            /*@include large\r\n                width: 50%*/\r\n\r\n            .top-bar\r\n                width: 100%\r\n                display: flex\r\n                justify-content: flex-end\r\n                background-color: $secondary-color\r\n                color: $background-color\r\n                border-radius: 5px 5px 0 0\r\n\r\n                .title\r\n                    //margin: 2.5px auto 2.5px 5px\r\n\r\n                .left\r\n                    margin: 0.15rem auto 0.15rem 0.5rem\r\n\r\n                    p\r\n                        display: inline-block\r\n                        margin: 0\r\n\r\n                    button\r\n                        display: inline-block\r\n                        margin-left: 1rem\r\n                        background-color: $secondary-color\r\n                        border-radius: 3px\r\n                        font-size: 0.9rem\r\n                        border: 1px solid $background-color\r\n                        color: $background-color\r\n                        cursor: pointer\r\n\r\n                i\r\n                    margin-right: 15px\r\n                    margin-top: 2.5px\r\n                    margin-bottom: 2.5px\r\n\r\n\r\n            .table-wrapper\r\n                overflow-y: auto\r\n                height: 239px\r\n\r\n            .bottom\r\n                display: flex\r\n                padding: 5px\r\n                border-top: 2px solid #777777\r\n\r\n                p\r\n                    margin-top: auto\r\n                    margin-bottom: auto\r\n                    padding: 2px 5px\r\n                    border-radius: 5px\r\n                    background-color: $secondary-color\r\n                    color: $background-color\r\n\r\n                button\r\n                    display: inline-block\r\n                    height: 30px\r\n                    margin-left: 1rem\r\n                    background-color: $secondary-color\r\n                    border-radius: 3px\r\n                    font-size: 0.9rem\r\n                    border: 1px solid $background-color\r\n                    color: $background-color\r\n                    cursor: pointer\r\n\r\n                .right\r\n                    margin-left: auto\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Basket.vue?vue&type=template&id=c4353956&scoped=true&\"\nimport script from \"./Basket.vue?vue&type=script&lang=js&\"\nexport * from \"./Basket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Basket.vue?vue&type=style&index=0&id=c4353956&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4353956\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}