{"version":3,"sources":["webpack:///./src/views/components/Dialog.vue?0aad","webpack:///./src/views/components/WaybillEditingDialog.vue?252a","webpack:///./src/views/components/WaybillEditingDialog.vue?06b7","webpack:///./src/views/components/Dialog.vue?3789","webpack:///src/views/components/Dialog.vue","webpack:///./src/views/components/Dialog.vue?c9e3","webpack:///./src/views/components/Dialog.vue","webpack:///src/views/components/WaybillEditingDialog.vue","webpack:///./src/views/components/WaybillEditingDialog.vue?1d5d","webpack:///./src/views/components/WaybillEditingDialog.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Dialog_vue_vue_type_style_index_0_id_f40e7b1a_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Dialog_vue_vue_type_style_index_0_id_f40e7b1a_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WaybillEditingDialog_vue_vue_type_style_index_0_id_406a08e7_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WaybillEditingDialog_vue_vue_type_style_index_0_id_406a08e7_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","can-return","catalogData","category","length","searchRequest","on","hide","onDialogHide","return","onDialogReturn","staticClass","placeholder","type","autocorrect","autocapitalize","input","onSearchInput","keyup","$event","indexOf","_k","keyCode","key","onSearchResultChoose","target","value","searchHelperResults","_l","item","click","_v","_s","_e","data","rawCategories","basket","products","can-be-ordered","onCategoryChoose","category-id","sub-category-id","subCategory","search-request","button-text","basket-data","buy","onBuy","showFullSizeImage","onShowFillSizeImage","canBeOrdered","can-be-cleared","staticRenderFns","Dialogvue_type_template_id_f40e7b1a_scoped_true_render","style","height","opacity","src","$emit","_t","isInnerVisible","Dialogvue_type_template_id_f40e7b1a_scoped_true_staticRenderFns","Dialogvue_type_script_lang_js_","name","components","LoadingSpinner","props","canReturn","Boolean","default","isVisible","isHidingBlocked","methods","show","_this","$eventBus","events","showUnfocusedBackground","zIndex","$on","onBackgroundClick","setTimeout","_this2","hideUnfocusedBackground","$off","_this3","console","log","mounted","Math","round","window","innerHeight","components_Dialogvue_type_script_lang_js_","component","Object","componentNormalizer","Dialog","WaybillEditingDialogvue_type_script_lang_js_","Basket","CatalogComponent","CategoryChooseComponent","productsData","Array","required","buttonText","objectSpread","vuex_esm","all_modules_name","catalog","all_actions_type","LOAD_CATEGORIES","all_mutations_type","SET_IS_BASKET_MINIMIZED","res","find","el","id","boughtQuantity","copy","JSON","parse","stringify_default","isValid","push","setIsBasketMinimized","payload","$refs","dialog","notHideBackgroundOnClick","showImagePreview","event","getSearchHelper","then","json","subId","$store","dispatch","mutations_type","computed","categories","forEach","isExpanded","$props","loadCategories","components_WaybillEditingDialogvue_type_script_lang_js_","WaybillEditingDialog_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-45b67a66.51de0cbe.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=f40e7b1a&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=f40e7b1a&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=style&index=0&id=406a08e7&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=style&index=0&id=406a08e7&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{ref:\"dialog\",attrs:{\"can-return\":_vm.catalogData.category.length !== 0 || _vm.catalogData.searchRequest.length !== 0},on:{\"hide\":_vm.onDialogHide,\"return\":_vm.onDialogReturn}},[(_vm.catalogData.category === '' && _vm.catalogData.searchRequest === '')?_c('section',[_c('section',{staticClass:\"search-wrapper\"},[_c('div',{staticClass:\"search\"},[_c('input',{ref:\"searchInput\",attrs:{\"placeholder\":\"Поиск Товара\",\"type\":\"text\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\"},on:{\"input\":_vm.onSearchInput,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearchResultChoose($event.target.value)}}}),(_vm.searchHelperResults.length !== 0 && _vm.catalogData.category === '')?_c('section',{staticClass:\"search-helper\"},_vm._l((_vm.searchHelperResults),function(item){return _c('p',{on:{\"click\":function($event){return _vm.onSearchResultChoose(item)}}},[_vm._v(_vm._s(item))])}),0):_vm._e()])]),_c('CategoryChooseComponent',{ref:\"categoryChoose\",staticClass:\"category-choose-component\",attrs:{\"data\":_vm.rawCategories,\"basket\":_vm.products,\"can-be-ordered\":false},on:{\"onCategoryChoose\":_vm.onCategoryChoose}})],1):_vm._e(),(_vm.catalogData.category !== '' || _vm.catalogData.searchRequest !== '')?_c('CatalogComponent',{staticClass:\"catalog-component\",attrs:{\"category-id\":_vm.catalogData.category,\"sub-category-id\":_vm.catalogData.subCategory,\"search-request\":_vm.catalogData.searchRequest,\"button-text\":\"Добавить\",\"basket-data\":_vm.products},on:{\"buy\":_vm.onBuy,\"showFullSizeImage\":_vm.onShowFillSizeImage}}):_vm._e(),_c('Basket',{attrs:{\"data\":_vm.products,\"canBeOrdered\":false,\"can-be-cleared\":false}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible)?_c('section',{staticClass:\"dialog-wrapper\"},[_c('section',{staticClass:\"dialog\",style:({height: _vm.height + 'px', opacity: _vm.opacity})},[_c('header',[(_vm.canReturn)?_c('img',{attrs:{\"src\":\"/svgs/arrow-left-white.svg\"},on:{\"click\":function($event){return _vm.$emit('return')}}}):_vm._e(),_c('img',{staticClass:\"right\",attrs:{\"src\":\"/svgs/times-white.svg\"},on:{\"click\":_vm.hide}})]),_c('section',{staticClass:\"content-wrapper\",style:({height: (_vm.height - 20) + 'px'})},[(_vm.isInnerVisible)?_vm._t(\"default\"):_vm._e(),(!_vm.isInnerVisible)?_c('section',{staticClass:\"center\"},[_c('LoadingSpinner')],1):_vm._e()],2)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"dialog-wrapper\" v-if=\"isVisible\">\r\n\r\n        <section class=\"dialog\" v-bind:style=\"{height: height + 'px', opacity}\">\r\n            <header>\r\n                <img src=\"/svgs/arrow-left-white.svg\" v-on:click=\"$emit('return')\" v-if=\"canReturn\"/>\r\n                <img src=\"/svgs/times-white.svg\" class=\"right\" v-on:click=\"hide\" />\r\n            </header>\r\n\r\n            <section class=\"content-wrapper\" v-bind:style=\"{height: (height - 20) + 'px'}\">\r\n                <slot v-if=\"isInnerVisible\"></slot>\r\n                <section class=\"center\" v-if=\"!isInnerVisible\">\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                </section>\r\n            </section>\r\n\r\n        </section>\r\n\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import {Events} from \"../../common/events\";\r\n    import LoadingSpinner from \"./LoadingSpinner\";\r\n\r\n    export default {\r\n        name: \"Dialog\",\r\n\r\n        components: {LoadingSpinner},\r\n\r\n        props: {\r\n            canReturn: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                isVisible: false,\r\n                isInnerVisible: false,\r\n                isHidingBlocked: false,\r\n\r\n                opacity: 0,\r\n                height: 0,\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            show() {\r\n                this.$eventBus.$emit(Events.showUnfocusedBackground, {zIndex: 15});\r\n                this.$eventBus.$on(Events.onBackgroundClick, this.onBackgroundClick);\r\n\r\n                this.isVisible = true;\r\n                setTimeout(() => {\r\n                    this.opacity = 1;\r\n                    setTimeout(() => {\r\n                        this.isInnerVisible = true;\r\n                    }, 350);\r\n                }, 50);\r\n            },\r\n\r\n            hide() {\r\n                this.$eventBus.$emit(Events.hideUnfocusedBackground, {zIndex: 15});\r\n                this.$eventBus.$off(Events.onBackgroundClick);\r\n\r\n                this.opacity = 0;\r\n                this.isInnerVisible = false;\r\n                setTimeout(() => {\r\n                    this.isVisible = false;\r\n                    this.$emit('hide');\r\n                }, 350);\r\n            },\r\n\r\n            onBackgroundClick() {\r\n                console.log(\"on background click\");\r\n                if (!this.isHidingBlocked) {\r\n                    this.hide();\r\n                } else {\r\n                    this.isHidingBlocked = false;\r\n                    this.$eventBus.$emit(Events.showUnfocusedBackground, {zIndex: 15});\r\n                    setTimeout(() => {\r\n                        this.$eventBus.$on(Events.onBackgroundClick, this.onBackgroundClick);\r\n                    }, 350);\r\n                }\r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            this.height = Math.round(window.innerHeight * 0.75);\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    .dialog-wrapper\r\n        z-index: 16\r\n        width: 100%\r\n        position: fixed\r\n        right: auto\r\n        left: auto\r\n        top: 50%\r\n        -ms-transform: translateY(-50%)\r\n        transform: translateY(-50%)\r\n\r\n        .center\r\n            display: flex\r\n            position: absolute\r\n            justify-content: center\r\n            top: 50%\r\n            left: 50%\r\n            transform: translate(-50%, -50%)\r\n\r\n        .dialog\r\n            position: absolute\r\n            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.50), 0 3px 6px rgba(0, 0, 0, 0.50)\r\n            padding-top: 25px\r\n            padding-bottom: 10px\r\n            transition: 0.35s\r\n            width: 90%\r\n            max-width: 900px\r\n            height: 220px\r\n            border-radius: 15px\r\n            background-color: white\r\n            top: 50%\r\n            left: 50%\r\n            -ms-transform: translate(-50%, -50%)\r\n            transform: translate(-50%, -50%)\r\n\r\n            header\r\n                display: flex\r\n                position: absolute\r\n                right: 0\r\n                left: 0\r\n                top: 0\r\n                height: 20px\r\n                border-top-right-radius: 15px\r\n                border-top-left-radius: 15px\r\n                background-color: #1D5DB5\r\n                padding: 2.5px 20px\r\n\r\n                img\r\n                    cursor: pointer\r\n                    width: 20px\r\n                    height: 20px\r\n\r\n                .right\r\n                    margin-left: auto\r\n\r\n            .content-wrapper\r\n                height: 200px\r\n                padding-top: 10px\r\n                overflow-x: hidden\r\n                overflow-y: scroll\r\n\r\n                &::-webkit-scrollbar\r\n                    display: none\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=f40e7b1a&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=f40e7b1a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f40e7b1a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <Dialog ref=\"dialog\" @hide=\"onDialogHide\" @return=\"onDialogReturn\"\r\n            v-bind:can-return=\"catalogData.category.length !== 0 || catalogData.searchRequest.length !== 0\">\r\n\r\n        <section v-if=\"catalogData.category === '' && catalogData.searchRequest === ''\">\r\n\r\n            <section class=\"search-wrapper\">\r\n                <div class=\"search\">\r\n                    <input placeholder=\"Поиск Товара\" type=\"text\" autocorrect=\"off\" autocapitalize=\"off\"\r\n                           @input=\"onSearchInput\" @keyup.enter=\"onSearchResultChoose($event.target.value)\"\r\n                           ref=\"searchInput\"/>\r\n\r\n                    <section class=\"search-helper\" v-if=\"searchHelperResults.length !== 0 && catalogData.category === ''\">\r\n                        <p v-for=\"item in searchHelperResults\" v-on:click=\"onSearchResultChoose(item)\">{{item}}</p>\r\n                    </section>\r\n                </div>\r\n            </section>\r\n\r\n            <CategoryChooseComponent class=\"category-choose-component\"\r\n                    v-bind:data=\"rawCategories\" v-bind:basket=\"products\"\r\n                    :can-be-ordered=\"false\" ref=\"categoryChoose\"\r\n                    @onCategoryChoose=\"onCategoryChoose\"\r\n            />\r\n        </section>\r\n\r\n        <CatalogComponent class=\"catalog-component\"\r\n                v-if=\"catalogData.category !== '' || catalogData.searchRequest !== ''\"\r\n                :category-id=\"catalogData.category\" :sub-category-id=\"catalogData.subCategory\"\r\n                :search-request=\"catalogData.searchRequest\"\r\n                button-text=\"Добавить\" :basket-data=\"products\"\r\n                @buy=\"onBuy\" @showFullSizeImage=\"onShowFillSizeImage\"\r\n        />\r\n\r\n        <Basket v-bind:data=\"products\" :canBeOrdered=\"false\" :can-be-cleared=\"false\"/>\r\n    </Dialog>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters, mapActions, mapMutations } from 'vuex';\r\n    import mutations from \"../../store/all.mutations.type\"\r\n    import actions from \"../../store/all.actions.type\";\r\n    import modules from \"../../store/all.modules.name\"\r\n\r\n    import Dialog from \"./Dialog\"\r\n    import {Events} from \"../../common/events\";\r\n    import {CatalogAPI} from \"../../api/catalog\"\r\n\r\n    import {CLEAR_PRODUCTS} from \"../../store/modules/catalog/mutations.type\";\r\n    import CategoryChooseComponent from \"./CategoryChooseComponent\";\r\n    import CatalogComponent from \"./CatalogComponent\";\r\n    import Basket from \"./Basket\";\r\n\r\n    export default {\r\n        name: \"WaybillEditingDialog\",\r\n\r\n        components: {Basket, CatalogComponent, CategoryChooseComponent, Dialog},\r\n\r\n        props: {\r\n            productsData: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                catalogData: {\r\n                    category: \"\",\r\n                    subCategory: \"\",\r\n                    searchRequest: \"\",\r\n                    buttonText: \"Добавить\",\r\n                },\r\n\r\n                searchHelperResults: [],\r\n\r\n                products: [],\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            ...mapActions(modules.catalog, [\r\n                actions.catalog.LOAD_CATEGORIES,\r\n            ]),\r\n\r\n            ...mapMutations(modules.catalog, [\r\n                mutations.catalog.SET_IS_BASKET_MINIMIZED,\r\n            ]),\r\n\r\n            onBuy(item) {\r\n                let res = this.products.find((el) => {\r\n                    return el.id === item.id;\r\n                });\r\n\r\n                if (res) {\r\n                    res.boughtQuantity++;\r\n                } else {\r\n                    let copy = JSON.parse(JSON.stringify(item));\r\n                    copy.boughtQuantity = 1;\r\n                    copy.isValid = true;\r\n                    this.products.push(copy);\r\n                }\r\n\r\n                this.setIsBasketMinimized(false);\r\n            },\r\n\r\n            onShowFillSizeImage(payload) {\r\n                this.$refs.dialog.isHidingBlocked = true;\r\n                payload.notHideBackgroundOnClick = true;\r\n                this.$eventBus.$emit(Events.showImagePreview, payload);\r\n            },\r\n\r\n            onSearchInput(event) {\r\n                let value = event.target.value;\r\n                if (value.length !== 0) {\r\n                    CatalogAPI.getSearchHelper(value).then((res) => {\r\n\r\n                        if (res !== null) {\r\n                            res.json().then(data => {\r\n                                this.searchHelperResults = data;\r\n                            });\r\n                        } else {\r\n                            this.searchHelperResults = [];\r\n                        }\r\n\r\n                    });\r\n                } else if (this.searchHelperResults.length !== 0) {\r\n                    this.searchHelperResults = [];\r\n                }\r\n            },\r\n\r\n            onSearchResultChoose(item) {\r\n                this.catalogData.searchRequest = item;\r\n                this.searchHelperResults = [];\r\n            },\r\n\r\n            onCategoryChoose(payload) {\r\n                this.catalogData.category = payload.id;\r\n                this.catalogData.subCategory = payload.subId;\r\n                this.searchHelperResults = [];\r\n            },\r\n\r\n            onDialogReturn() {\r\n                this.$store.dispatch(modules.catalog + \"/\" + CLEAR_PRODUCTS);\r\n                this.catalogData.category = '';\r\n                this.catalogData.subCategory = '';\r\n                this.catalogData.searchRequest = '';\r\n            },\r\n\r\n            onDialogHide() {\r\n                this.catalogData.category = '';\r\n                this.catalogData.subCategory = '';\r\n                this.catalogData.searchRequest = '';\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            ...mapGetters(modules.catalog, [\r\n                \"categories\",\r\n            ]),\r\n\r\n            rawCategories: function () {\r\n                let res = JSON.parse(JSON.stringify(this.categories));\r\n                res.forEach((item) => {\r\n                    if (item.isExpanded) {\r\n                        item.isExpanded = false;\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            this.products = this.$props.productsData ? this.$props.productsData : [];\r\n\r\n            if (this.categories.length === 0) {\r\n                this.loadCategories();\r\n            }\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n\r\n    .catalog-component\r\n        width: 90%\r\n        max-width: 1200px\r\n        margin: auto\r\n\r\n    .category-choose-component\r\n        width: 90%\r\n        max-width: 500px\r\n        margin: auto\r\n\r\n    .search-wrapper\r\n        border-bottom: 2px solid #1d5db5\r\n\r\n        .search\r\n            display: flex\r\n            position: relative\r\n            justify-content: center\r\n            width: 90%\r\n            margin: auto\r\n            max-width: 500px\r\n            font-family: Roboto, sans-serif\r\n\r\n            input\r\n                display: block\r\n                width: 100%\r\n                height: 100%\r\n                border: none\r\n                font-size: 1.3rem\r\n                padding-bottom: 10px\r\n                padding-top: 10px\r\n                outline: none\r\n\r\n            .search-helper\r\n                position: absolute\r\n                top: 43px\r\n                left: auto\r\n                right: auto\r\n                width: 100%\r\n                box-shadow: 0 20px 20px 0 #0000003d\r\n                border-bottom-left-radius: 5px\r\n                border-bottom-right-radius: 5px\r\n                background-color: #FFFFFF\r\n                transition: 0.25s\r\n\r\n                p\r\n                    font-size: 18px\r\n                    padding-left: 10px\r\n                    margin: 0\r\n                    padding-top: 1rem\r\n                    padding-bottom: 1rem\r\n\r\n                    &:hover\r\n                        background-color: #f2f2f2\r\n                        cursor: pointer\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WaybillEditingDialog.vue?vue&type=template&id=406a08e7&scoped=true&\"\nimport script from \"./WaybillEditingDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./WaybillEditingDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WaybillEditingDialog.vue?vue&type=style&index=0&id=406a08e7&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"406a08e7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}