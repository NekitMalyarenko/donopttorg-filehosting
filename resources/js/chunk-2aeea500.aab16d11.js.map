{"version":3,"sources":["webpack:///./src/views/components/WaybillEditingDialog.vue?8ec2","webpack:///src/views/components/WaybillEditingDialog.vue","webpack:///./src/views/components/WaybillEditingDialog.vue?1d5d","webpack:///./src/views/components/WaybillEditingDialog.vue","webpack:///./src/views/components/WaybillEditingDialog.vue?cf99"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","can-return","catalogData","category","length","searchRequest","on","hide","onDialogHide","return","onDialogReturn","staticClass","placeholder","type","autocorrect","autocapitalize","input","onSearchInput","keyup","$event","indexOf","_k","keyCode","key","onSearchResultChoose","target","value","searchHelperResults","_l","item","click","_v","_s","_e","is-component","basket-data","products","choose","onCategoryChoose","basketRemove","onRemove","component-data","buy","onBuy","staticRenderFns","WaybillEditingDialogvue_type_script_lang_js_","name","components","CategoryChoose","Catalog","Dialog","props","productsData","Array","required","data","subCategory","buttonText","methods","res","find","el","id","boughtQuantity","copy","JSON","parse","stringify_default","isValid","push","event","_this","catalog","getSearchHelper","then","json","payload","$store","dispatch","all_modules_name","mutations_type","index","splice","onQuantityChange","newQuantity","mounted","$props","setTimeout","components_WaybillEditingDialogvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WaybillEditingDialog_vue_vue_type_style_index_0_id_35254a06_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WaybillEditingDialog_vue_vue_type_style_index_0_id_35254a06_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-2aeea500.aab16d11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{ref:\"dialog\",attrs:{\"can-return\":_vm.catalogData.category.length !== 0 || _vm.catalogData.searchRequest.length !== 0},on:{\"hide\":_vm.onDialogHide,\"return\":_vm.onDialogReturn}},[(_vm.catalogData.category === '' && _vm.catalogData.searchRequest === '')?_c('section',[_c('section',{staticClass:\"search-wrapper\"},[_c('div',{staticClass:\"search\"},[_c('input',{ref:\"searchInput\",attrs:{\"placeholder\":\"Поиск Товара\",\"type\":\"text\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\"},on:{\"input\":_vm.onSearchInput,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearchResultChoose($event.target.value)}}}),(_vm.searchHelperResults.length !== 0 && _vm.catalogData.category === '')?_c('section',{staticClass:\"search-helper\"},_vm._l((_vm.searchHelperResults),function(item){return _c('p',{on:{\"click\":function($event){return _vm.onSearchResultChoose(item)}}},[_vm._v(_vm._s(item))])}),0):_vm._e()])]),_c('CategoryChoose',{ref:\"categoryChoose\",attrs:{\"is-component\":true,\"basket-data\":_vm.products},on:{\"choose\":_vm.onCategoryChoose,\"basketRemove\":_vm.onRemove}})],1):_vm._e(),(_vm.catalogData.category !== '' || _vm.catalogData.searchRequest !== '')?_c('Catalog',{attrs:{\"is-component\":true,\"component-data\":_vm.catalogData,\"basket-data\":_vm.products},on:{\"buy\":_vm.onBuy,\"basketRemove\":_vm.onRemove}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Dialog ref=\"dialog\" @hide=\"onDialogHide\" @return=\"onDialogReturn\"\r\n            v-bind:can-return=\"catalogData.category.length !== 0 || catalogData.searchRequest.length !== 0\">\r\n\r\n        <section v-if=\"catalogData.category === '' && catalogData.searchRequest === ''\">\r\n\r\n            <section class=\"search-wrapper\">\r\n                <div class=\"search\">\r\n                    <input placeholder=\"Поиск Товара\" type=\"text\" autocorrect=\"off\" autocapitalize=\"off\"\r\n                           @input=\"onSearchInput\" @keyup.enter=\"onSearchResultChoose($event.target.value)\"\r\n                           ref=\"searchInput\"/>\r\n\r\n                    <section class=\"search-helper\" v-if=\"searchHelperResults.length !== 0 && catalogData.category === ''\">\r\n                        <p v-for=\"item in searchHelperResults\" v-on:click=\"onSearchResultChoose(item)\">{{item}}</p>\r\n                    </section>\r\n                </div>\r\n            </section>\r\n\r\n            <CategoryChoose @choose=\"onCategoryChoose\" @basketRemove=\"onRemove\"\r\n                            :is-component=\"true\" v-bind:basket-data=\"products\"\r\n                            ref=\"categoryChoose\"/>\r\n        </section>\r\n\r\n        <Catalog v-if=\"catalogData.category !== '' || catalogData.searchRequest !== ''\"\r\n                 :is-component=\"true\" :component-data=\"catalogData\"\r\n                 :basket-data=\"products\"\r\n                 @buy=\"onBuy\" @basketRemove=\"onRemove\"\r\n        />\r\n    </Dialog>\r\n</template>\r\n\r\n<script>\r\n    import CategoryChoose from \"../CategoryChoose\"\r\n    import Catalog from \"../Catalog\"\r\n    import Dialog from \"./Dialog\"\r\n    import {CatalogAPI} from \"../../api/catalog\"\r\n\r\n    import {CLEAR_PRODUCTS} from \"../../store/modules/catalog/mutations.type\";\r\n    import modules from \"../../store/all.modules.name\"\r\n\r\n    export default {\r\n        name: \"WaybillEditingDialog\",\r\n\r\n        components: {CategoryChoose, Catalog, Dialog},\r\n\r\n        props: {\r\n            productsData: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                catalogData: {\r\n                    category: \"\",\r\n                    subCategory: \"\",\r\n                    searchRequest: \"\",\r\n                    buttonText: \"Добавить\",\r\n                },\r\n\r\n                searchHelperResults: [],\r\n\r\n                products: [],\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            onBuy(item) {\r\n                let res = this.products.find((el) => {\r\n                    return el.id === item.id;\r\n                });\r\n\r\n                if (res) {\r\n                    res.boughtQuantity++;\r\n                } else {\r\n                    let copy = JSON.parse(JSON.stringify(item));\r\n                    copy.boughtQuantity = 1;\r\n                    copy.isValid = true;\r\n                    this.products.push(copy);\r\n                }\r\n\r\n            },\r\n\r\n            onSearchInput(event) {\r\n                let value = event.target.value;\r\n                if (value.length !== 0) {\r\n                    CatalogAPI.getSearchHelper(value).then((res) => {\r\n\r\n                        if (res !== null) {\r\n                            res.json().then(data => {\r\n                                this.searchHelperResults = data;\r\n                            });\r\n                        } else {\r\n                            this.searchHelperResults = [];\r\n                        }\r\n\r\n                    });\r\n                } else if (this.searchHelperResults.length !== 0) {\r\n                    this.searchHelperResults = [];\r\n                }\r\n            },\r\n\r\n            onSearchResultChoose(item) {\r\n                this.catalogData.searchRequest = item;\r\n                this.searchHelperResults = [];\r\n            },\r\n\r\n            onCategoryChoose(payload) {\r\n                this.catalogData.category = payload.category;\r\n                this.catalogData.subCategory = payload.subCategory;\r\n                this.searchHelperResults = [];\r\n            },\r\n\r\n            onDialogReturn() {\r\n                this.$store.dispatch(modules.catalog + \"/\" + CLEAR_PRODUCTS);\r\n                this.catalogData.category = '';\r\n                this.catalogData.subCategory = '';\r\n                this.catalogData.searchRequest = '';\r\n            },\r\n\r\n            onDialogHide() {\r\n                this.$store.dispatch(modules.catalog + \"/\" + CLEAR_PRODUCTS);\r\n                this.catalogData.category = '';\r\n                this.catalogData.subCategory = '';\r\n                this.catalogData.searchRequest = '';\r\n            },\r\n\r\n            onRemove(index) {\r\n                if (this.products[index]) {\r\n                    this.products.splice(index, 1);\r\n                }\r\n            },\r\n\r\n            onQuantityChange(payload) {\r\n                let {item, newQuantity} = payload;\r\n                item.boughtQuantity = newQuantity;\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            this.products = this.$props.productsData ? this.$props.productsData : [];\r\n            setTimeout(() => {\r\n\r\n            })\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    .search-wrapper\r\n        border-bottom: 2px solid #1d5db5\r\n\r\n        .search\r\n            display: flex\r\n            position: relative\r\n            justify-content: center\r\n            width: 90%\r\n            margin: auto\r\n            max-width: 500px\r\n            font-family: Roboto, sans-serif\r\n\r\n            input\r\n                display: block\r\n                width: 100%\r\n                height: 100%\r\n                border: none\r\n                font-size: 1.3rem\r\n                padding-bottom: 10px\r\n                padding-top: 10px\r\n                outline: none\r\n\r\n            .search-helper\r\n                position: absolute\r\n                top: 43px\r\n                left: auto\r\n                right: auto\r\n                width: 100%\r\n                box-shadow: 0 20px 20px 0 #0000003d\r\n                border-bottom-left-radius: 5px\r\n                border-bottom-right-radius: 5px\r\n                background-color: #FFFFFF\r\n                transition: 0.25s\r\n\r\n                p\r\n                    font-size: 18px\r\n                    padding-left: 10px\r\n                    margin: 0\r\n                    padding-top: 1rem\r\n                    padding-bottom: 1rem\r\n\r\n                    &:hover\r\n                        background-color: #f2f2f2\r\n                        cursor: pointer\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WaybillEditingDialog.vue?vue&type=template&id=35254a06&scoped=true&\"\nimport script from \"./WaybillEditingDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./WaybillEditingDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WaybillEditingDialog.vue?vue&type=style&index=0&id=35254a06&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35254a06\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=style&index=0&id=35254a06&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WaybillEditingDialog.vue?vue&type=style&index=0&id=35254a06&lang=sass&scoped=true&\""],"sourceRoot":""}