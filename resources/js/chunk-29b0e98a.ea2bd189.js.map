{"version":3,"sources":["webpack:///./src/views/CategoryChoose.vue?8a62","webpack:///./src/views/Catalog.vue?468b","webpack:///./src/views/components/catalog/Card.vue?d0b8","webpack:///./src/views/components/catalog/SimpleDroplist.vue?a8b9","webpack:///src/views/components/catalog/SimpleDroplist.vue","webpack:///./src/views/components/catalog/SimpleDroplist.vue?7cba","webpack:///./src/views/components/catalog/SimpleDroplist.vue","webpack:///./src/views/components/lazyLoadImage/LazyLoadImage.vue?c50a","webpack:///src/views/components/lazyLoadImage/LazyLoadImage.vue","webpack:///./src/views/components/lazyLoadImage/LazyLoadImage.vue?8410","webpack:///./src/views/components/lazyLoadImage/LazyLoadImage.vue","webpack:///src/views/components/catalog/Card.vue","webpack:///./src/views/components/catalog/Card.vue?4cc9","webpack:///./src/views/components/catalog/Card.vue","webpack:///./src/common/errors.js","webpack:///./src/store/modules/catalog/WSProductsUpdater.js","webpack:///src/views/Catalog.vue","webpack:///./src/views/Catalog.vue?110b","webpack:///./src/views/Catalog.vue","webpack:///./src/views/components/catalog/Basket.vue?1737","webpack:///./src/views/components/catalog/Card.vue?6142","webpack:///./src/views/Catalog.vue?c740","webpack:///./node_modules/vue-observe-visibility/dist/vue-observe-visibility.esm.js","webpack:///./src/views/components/expandableList/ExpandableList.vue?cd50","webpack:///./src/views/components/expandableList/ExpandableListItem.vue?a2de","webpack:///./src/views/CategoryChoose.vue?373a","webpack:///./src/views/components/expandableList/ExpandableList.vue?f5a2","webpack:///./src/views/components/expandableList/ExpandableListItem.vue?21ec","webpack:///src/views/components/expandableList/ExpandableListItem.vue","webpack:///./src/views/components/expandableList/ExpandableListItem.vue?0ae6","webpack:///./src/views/components/expandableList/ExpandableListItem.vue","webpack:///src/views/components/expandableList/ExpandableList.vue","webpack:///./src/views/components/expandableList/ExpandableList.vue?cb54","webpack:///./src/views/components/expandableList/ExpandableList.vue","webpack:///src/views/CategoryChoose.vue","webpack:///./src/views/CategoryChoose.vue?ab32","webpack:///./src/views/CategoryChoose.vue","webpack:///./src/views/components/lazyLoadImage/LazyLoadImage.vue?38d0","webpack:///./src/views/components/catalog/SimpleDroplist.vue?8b05","webpack:///./src/views/components/catalog/Basket.vue?1cc8","webpack:///src/views/components/catalog/Basket.vue","webpack:///./src/views/components/catalog/Basket.vue?f747","webpack:///./src/views/components/catalog/Basket.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CategoryChoose_vue_vue_type_style_index_0_id_2c218267_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CategoryChoose_vue_vue_type_style_index_0_id_2c218267_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","error","length","staticClass","$route","name","_v","_s","categoryId","_e","searchRequest","isComponent","products","style","margin-bottom","searchResultWrapperMarginBottom","attrs","id","_l","item","key","options","children-data","childrenData","button-text","componentData","buttonText","basket-data","basketData","on","buy","onBuy","directives","rawName","value","expression","data","basket","can-be-ordered","ordering","onOrdering","remove","onRemove","staticRenderFns","Cardvue_type_template_id_0c73732e_scoped_true_render","class","title-minified","optionsLayers","index","choose","$event","changeChosenOption","url","currentImage","click","imageHandler","lastOptionLayer","size","chosen","chosenIndex","chosen-quantity","computedChildrenData","isCountInStockTooBig","countInStock","text","buyHandler","currentOptionPrice","Cardvue_type_template_id_0c73732e_scoped_true_staticRenderFns","SimpleDroplistvue_type_template_id_3b43d364_scoped_true_render","mouseup","isVisible","mouseleave","$props","src","clickHandler","SimpleDroplistvue_type_template_id_3b43d364_scoped_true_staticRenderFns","SimpleDroplistvue_type_script_lang_js_","props","type","Array","required","methods","i","$emit","computed","dataToRender","watch","newVal","oldVal","catalog_SimpleDroplistvue_type_script_lang_js_","component","Object","componentNormalizer","SimpleDroplist","LazyLoadImagevue_type_template_id_2e7638ec_scoped_true_render","ref","width","height","LazyLoadImagevue_type_template_id_2e7638ec_scoped_true_staticRenderFns","vue_runtime_esm","use","vue_observe_visibility_esm","LazyLoadImagevue_type_script_lang_js_","isLoaded","String","Number","callback","res","$refs","img","onVisibilityChanged","loadImage","eventBus","lazyLoadImage","priority","lazyLoadImage_LazyLoadImagevue_type_script_lang_js_","LazyLoadImage_component","LazyLoadImage","Cardvue_type_script_lang_js_","components","MDRaisedButton","default","route","cardContentStyle","gridTemplateColumns","indexInLayers","reCalculateOptionsLayer","showImagePreview","imageFetch","fullSizeImageURL","currentOption","fullName","hasImage","priceRetail","priceWholesale","_this","lastLayer","currentLayer","temp","forEach","push","reCalculateMaxOptionWidth","calculateOptionsLayer","tempRoute","max","coef","objectSpread","vuex_esm","all_modules_name","catalog","user","JSON","parse","stringify_default","keys_default","basketItem","find","boughtQuantity","imageURL","pricesType","mounted","catalog_Cardvue_type_script_lang_js_","Card_component","Card","INTERNAL_SERVER_ERR","productUpdater","socketData","handshakePayload","isClosed","timer","start","promise_default","a","resolve","reject","CatalogAPI","createProductsCountInStockUpdater","socket","onclose","onWSClose","onerror","onWSError","onopen","e","sendHandshake","payload","_this2","sendJSONMessage","action","event","status","console","close","Error","updateHandshake","_this3","log","sendGetData","_this4","clearTimeout","isWorking","readyState","Catalogvue_type_script_lang_js_cache","cache","itemsPerPage","Catalogvue_type_script_lang_js_","LoadingSpinner","Basket","Promise","then","bind","isLoading","hasMoreToLoad","lastPageNumber","paginatedProducts","productUpdaterInitTimer","Boolean","all_actions_type","ADD_TO_BASKET","all_mutations_type","REMOVE_FROM_BASKET","SET_IS_BASKET_MINIMIZED","init","_init","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","search","getProducts","stop","apply","arguments","setIsBasketMinimized","addToBasket","$router","removeFromBasket","onBottomReached","getMoreProducts","_getProducts","_callee2","result","_context2","subCategoryId","getProductsByCategory","sent","json","pageNumber","t0","_getMoreProducts","_callee3","_itemsPerPage","_context3","getMoreProductsByCategory","_search","_callee4","_context4","runProductUpdater","_runProductUpdater","_callee6","downloadAndUpdateData","_context6","_ref","_callee5","itemId","prId","_context5","keys","t1","done","t2","t3","abrupt","synchronizeWithCache","setTimeout","PRODUCTS_UPDATE_TIME","_synchronizeWithCache","_callee7","cacheId","response","_cacheId","_response","_context7","concat","get","updateJSON","sort","b","toConsumableArray","isBaskeWindowVisible","params","category","subCategory","request","handler","deep","immediate","beforeDestroy","views_Catalogvue_type_script_lang_js_","Catalog_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Basket_vue_vue_type_style_index_0_id_c354353a_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Basket_vue_vue_type_style_index_0_id_c354353a_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Card_vue_vue_type_style_index_0_id_0c73732e_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Card_vue_vue_type_style_index_0_id_0c73732e_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Catalog_vue_vue_type_style_index_0_id_14b5d0c4_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Catalog_vue_vue_type_style_index_0_id_14b5d0c4_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","global","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","AwaitValue","AsyncGenerator","gen","front","back","send","arg","resume","settle","err","_invoke","return","undefined","asyncIterator","throw","instance","Constructor","TypeError","createClass","defineProperties","target","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","arr","isArray","arr2","from","processOptions","throttle","delay","timeout","lastState","currentArgs","throttled","state","_len","args","_key","_clear","deepEqual","val1","val2","VisibilityState","el","vnode","observer","frozen","createObserver","destroyObserver","oldResult","IntersectionObserver","entries","entry","isIntersecting","intersectionRatio","threshold","once","intersection","context","$nextTick","observe","disconnect","warn","_vue_visibilityState","update","_ref2","oldValue","unbind","ObserveVisibility","install","Vue","directive","plugin","version","GlobalVue","window","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ExpandableList_vue_vue_type_style_index_0_id_0e1c8988_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ExpandableList_vue_vue_type_style_index_0_id_0e1c8988_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ExpandableListItem_vue_vue_type_style_index_0_id_328dc628_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ExpandableListItem_vue_vue_type_style_index_0_id_328dc628_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","categories","dataToBind","onCategoryChoose","expand","onCategoryExpand","onBasketOrdering","onBasketRemove","ExpandableListvue_type_template_id_0e1c8988_scoped_true_render","children","is-expanded","isExpanded","onChoose","onExpand","ExpandableListvue_type_template_id_0e1c8988_scoped_true_staticRenderFns","ExpandableListItemvue_type_template_id_328dc628_scoped_true_render","isChildrenVisible","hasChilren","ExpandableListItemvue_type_template_id_328dc628_scoped_true_staticRenderFns","ExpandableListItemvue_type_script_lang_js_","require","subId","expandableList_ExpandableListItemvue_type_script_lang_js_","ExpandableListItem","ExpandableListvue_type_script_lang_js_","expandableList_ExpandableListvue_type_script_lang_js_","ExpandableList_component","ExpandableList","CategoryChoosevue_type_script_lang_js_","LOAD_CATEGORIES","val","path","$store","commit","CHOOSE_CATEGORY","rawCategories","created","loadCategories","views_CategoryChoosevue_type_script_lang_js_","CategoryChoose_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LazyLoadImage_vue_vue_type_style_index_0_id_2e7638ec_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LazyLoadImage_vue_vue_type_style_index_0_id_2e7638ec_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SimpleDroplist_vue_vue_type_style_index_0_id_3b43d364_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SimpleDroplist_vue_vue_type_style_index_0_id_3b43d364_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","basket-minimized","isBasketWindowMinimizedComputed","onWindowMinimize","closeBasket","is-editable","is-full-size","quantityChange","onQuantityChange","basketTotalPrice","isBasketValid","canBeOrdered","Basketvue_type_script_lang_js_","ProductsTable","isMinimized","onMinimize","Function","basketWindow","CLEAR","newQuantity","clear","isBasketWindowMinimized","isBasketWindowVisible","isValid","price","Math","round","destroyed","catalog_Basketvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-29b0e98a.ea2bd189.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryChoose.vue?vue&type=style&index=0&id=2c218267&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryChoose.vue?vue&type=style&index=0&id=2c218267&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error.length === 0)?_c('section',{staticClass:\"layout\"},[(_vm.$route && _vm.$route.name === 'catalog')?_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.categoryId))]):_vm._e(),(_vm.$route && _vm.$route.name === 'search')?_c('h1',{staticClass:\"title\"},[_vm._v(\"\\\"\"+_vm._s(_vm.searchRequest)+\"\\\"\")]):_vm._e(),((_vm.$route.name === 'catalog' || _vm.$route.name === 'catalogWithSub' || _vm.isComponent) && _vm.categoryId !== null && _vm.products.length !== 0)?_c('div',{staticClass:\"search-result-wrapper\",style:({'margin-bottom': _vm.searchResultWrapperMarginBottom}),attrs:{\"id\":\"grid\"}},_vm._l((_vm.products),function(item){return _c('Card',{key:item.id,attrs:{\"id\":item.id,\"name\":item.name,\"options\":item.options,\"children-data\":item.childrenData,\"button-text\":_vm.componentData ? _vm.componentData.buttonText : 'Заказать',\"basket-data\":_vm.basketData},on:{\"buy\":_vm.onBuy}})}),1):_vm._e(),( (_vm.$route.name === 'search' || _vm.isComponent) && _vm.products.length !== 0 && _vm.searchRequest !== null)?_c('div',{staticClass:\"search-result-wrapper\",style:({'margin-bottom': _vm.searchResultWrapperMarginBottom}),attrs:{\"id\":\"grid\"}},_vm._l((_vm.products),function(item){return _c('Card',{key:item.id,attrs:{\"id\":item.id,\"name\":item.name,\"options\":item.options,\"children-data\":item.childrenData,\"button-text\":_vm.componentData ? _vm.componentData.buttonText : 'Заказать'},on:{\"buy\":_vm.onBuy}})}),1):_vm._e(),_c('div',{directives:[{name:\"observe-visibility\",rawName:\"v-observe-visibility\",value:(_vm.onBottomReached),expression:\"onBottomReached\"}],staticClass:\"spinner\"},[(_vm.isLoading)?_c('LoadingSpinner'):_vm._e()],1),_c('Basket',{attrs:{\"data\":!_vm.isComponent ? _vm.basket: _vm.basketData,\"can-be-ordered\":!_vm.isComponent},on:{\"ordering\":_vm.onOrdering,\"remove\":_vm.onRemove}})],1):_c('section',{staticClass:\"layout\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.error))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"header\"},[_c('p',{staticClass:\"title\",class:{'title-minified': _vm.name.length > 45}},[_vm._v(_vm._s(_vm.name))]),(_vm.optionsLayers.length !== 0)?_c('section',{staticClass:\"title-sub-container\"},_vm._l((_vm.optionsLayers),function(item,index){return _c('section',{key:index,staticClass:\"option\"},[(item.length > 1)?_c('SimpleDroplist',{attrs:{\"data\":item},on:{\"choose\":function($event){return _vm.changeChosenOption(index, $event)}}}):_c('p',[_vm._v(_vm._s(item[0]))])],1)}),0):_vm._e()]),_c('LazyLoadImage',{staticClass:\"main-image\",attrs:{\"url\":_vm.currentImage},on:{\"click\":_vm.imageHandler}}),(_vm.lastOptionLayer.data.length !== 0)?_c('div',{staticClass:\"content\",style:(_vm.cardContentStyle)},_vm._l((_vm.lastOptionLayer.data),function(size,index){return _c('div',{key:size.name,staticClass:\"option\"},[_c('p',{staticClass:\"name\",class:{chosen: index === _vm.lastOptionLayer.chosenIndex},on:{\"click\":function($event){_vm.lastOptionLayer.chosenIndex = index}}},[_vm._v(\"\\n                \"+_vm._s(size.name)+\"\\n            \")]),_c('p',{staticClass:\"quantity\",class:{'chosen-quantity': index === _vm.lastOptionLayer.chosenIndex},on:{\"click\":function($event){_vm.lastOptionLayer.chosenIndex = index}}},[_vm._v(\"\\n                \"+_vm._s(_vm.computedChildrenData[size.id].isCountInStockTooBig?\n                ('>' + _vm.computedChildrenData[size.id].countInStock) :\n                _vm.computedChildrenData[size.id].countInStock)+\" \"),_c('span',[_vm._v(\"шт.\")])])])}),0):_vm._e(),_c('div',{staticClass:\"bottom\"},[_c('MDRaisedButton',{attrs:{\"text\":_vm.buttonText},on:{\"click\":function($event){return _vm.buyHandler()}}}),(_vm.optionsLayers.length !== 0)?_c('p',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.currentOptionPrice)+\" ₴\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"droplist-container\",on:{\"mouseup\":function($event){_vm.isVisible = true},\"mouseleave\":function($event){_vm.isVisible = false}}},[_c('p',{staticClass:\"trigger\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$props.data[_vm.chosenIndex])+\"\\n        \"),(!_vm.isVisible)?_c('img',{attrs:{\"src\":\"/svgs/caret-down.svg\"}}):_c('img',{attrs:{\"src\":\"/svgs/caret-up.svg\"}})]),(_vm.isVisible)?_c('div',{staticClass:\"content\"},_vm._l((_vm.dataToRender),function(item){return _c('p',{key:item,on:{\"click\":function($event){return _vm.clickHandler(item)}}},[_vm._v(_vm._s(item))])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"droplist-container\" @mouseup=\"isVisible = true\" @mouseleave=\"isVisible = false\">\r\n        <p class=\"trigger\">\r\n            {{$props.data[chosenIndex]}}\r\n            <!--<i v-if=\"!isVisible\" class=\"fas fa-caret-down\"></i>\r\n            <i v-else class=\"fas fa-caret-up\"></i>-->\r\n            <img v-if=\"!isVisible\" src=\"/svgs/caret-down.svg\"/>\r\n            <img v-else src=\"/svgs/caret-up.svg\"/>\r\n        </p>\r\n\r\n        <div class=\"content\" v-if=\"isVisible\">\r\n            <p v-for=\"(item) in dataToRender\" :key=\"item\"\r\n               v-on:click=\"clickHandler(item)\">{{item}}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SimpleDroplist\",\r\n\r\n        props: {\r\n            data: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                chosenIndex: 0,\r\n                isVisible: false,\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            clickHandler(item) {\r\n                for (let i = 0; i < this.$props.data.length; i++) {\r\n                    if (item === this.$props.data[i]) {\r\n                        this.chosenIndex = i;\r\n                        this.$emit(\"choose\", i);\r\n                        this.isVisible = false;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        \r\n        computed: {\r\n            dataToRender: function () {\r\n                /*let res = [];\r\n\r\n                if (this.$props && this.$props.data) {\r\n                    this.$props.data.forEach((element) => {\r\n                        if (this.$props.data[this.chosenIndex] !== element) {\r\n                            res.push(element);\r\n                        }\r\n                    });\r\n                }*/\r\n\r\n                return this.data;\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            data: function(newVal, oldVal) {\r\n                if (newVal.length === oldVal.length) {\r\n                    for (let i =0; i < newVal.length; i++) {\r\n                        if (newVal[i] !== oldVal[i]) {\r\n                            this.chosenIndex = 0;\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.chosenIndex = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    @import '../../../assets/basic'\r\n\r\n    .droplist-container\r\n        position: relative\r\n        padding-right: 10px\r\n        display: block\r\n        font-family: Roboto, sans-serif\r\n\r\n        .trigger\r\n            margin: 0\r\n            text-align: center\r\n            cursor: pointer\r\n            color: #777777\r\n            font-size: 0.9em\r\n\r\n            img\r\n                width: 12px\r\n                height: 12px\r\n\r\n        .content\r\n            position: absolute\r\n            width: 150px\r\n            background-color: $background-color\r\n            box-shadow: 0 1px 19px rgba(0, 0, 0, 0.5)\r\n            border-radius: 5px\r\n            z-index: 1\r\n            left: 50%\r\n            -webkit-transform: translateX(-50%)\r\n            transform: translateX(-50%)\r\n\r\n            p\r\n                margin: 0\r\n                padding-top: 0.7rem\r\n                padding-bottom: 0.7rem\r\n                padding-left: 10px\r\n                cursor: pointer\r\n                transition: 0.2s\r\n\r\n                &:first-child\r\n                    border-top-right-radius: 5px\r\n                    border-top-left-radius: 5px\r\n\r\n                &:last-child\r\n                    border-bottom-right-radius: 5px\r\n                    border-bottom-left-radius: 5px\r\n\r\n                &:hover\r\n                    background-color: #f2f2f2\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleDroplist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleDroplist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SimpleDroplist.vue?vue&type=template&id=3b43d364&scoped=true&\"\nimport script from \"./SimpleDroplist.vue?vue&type=script&lang=js&\"\nexport * from \"./SimpleDroplist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SimpleDroplist.vue?vue&type=style&index=0&id=3b43d364&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b43d364\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{directives:[{name:\"observe-visibility\",rawName:\"v-observe-visibility\",value:(_vm.onVisibilityChanged),expression:\"onVisibilityChanged\"}],ref:\"img\",style:({width: _vm.width + 'px', height: _vm.height + 'px'}),attrs:{\"url\":_vm.url},on:{\"click\":function($event){return _vm.$emit('click')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <img v-bind:style=\"{width: width + 'px', height: height + 'px'}\"\r\n         v-observe-visibility=\"onVisibilityChanged\"\r\n         v-bind:url=\"url\" ref=\"img\" v-on:click=\"$emit('click')\"/>\r\n</template>\r\n\r\n<script>\r\n    import {EventBus, Events} from \"../../../common/eventBus\";\r\n\r\n    import Vue from 'vue'\r\n    import VueObserveVisibility from 'vue-observe-visibility'\r\n\r\n    Vue.use(VueObserveVisibility);\r\n\r\n    export default {\r\n        name: \"LazyLoadImage\",\r\n\r\n        data: () => {\r\n            return {\r\n                isLoaded: false,\r\n                isVisible: false\r\n            }\r\n        },\r\n\r\n        props: {\r\n            url: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n\r\n            width: {\r\n                type: Number,\r\n            },\r\n\r\n            height: {\r\n                type: Number,\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            callback(res) {\r\n                //window.open(res);\r\n                this.isLoaded = true;\r\n                this.$refs.img.src = res;\r\n                //console.log({url: this.url, img: this.$refs.img, res})\r\n            },\r\n\r\n            onVisibilityChanged(isVisible) {\r\n                this.isVisible = isVisible;\r\n\r\n                if (isVisible && !this.isLoaded && this.url.length !== 0) {\r\n                    this.loadImage();\r\n                }\r\n            },\r\n\r\n            loadImage() {\r\n                EventBus.$emit(Events.lazyLoadImage, {\r\n                    url: this.url,\r\n                    callback: this.callback,\r\n                    priority: 1,\r\n                });\r\n            },\r\n        },\r\n\r\n        watch: {\r\n            url: function(newVal) {\r\n                if (this.isVisible) {\r\n                    if (newVal.length !== 0) {\r\n                        this.loadImage();\r\n                    } else {\r\n                        this.$refs.img.src = \"\";\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /*computed: {\r\n            isLoaded: function() {\r\n                return this.$refs !== undefined && this.$refs.img !== undefined && this.$refs.img.hasAttribute(\"src\")\r\n            },\r\n        }*/\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    .img-ph\r\n        background-color: red\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyLoadImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyLoadImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LazyLoadImage.vue?vue&type=template&id=2e7638ec&scoped=true&\"\nimport script from \"./LazyLoadImage.vue?vue&type=script&lang=js&\"\nexport * from \"./LazyLoadImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LazyLoadImage.vue?vue&type=style&index=0&id=2e7638ec&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e7638ec\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <!--v-bind:class=\"{'card-minified': !currentOption || !currentOption.hasImage}\"-->\r\n    <div class=\"card\">\r\n        <div class=\"header\">\r\n            <p class=\"title\" v-bind:class=\"{'title-minified': name.length > 45}\">{{name}}</p>\r\n\r\n            <section class=\"title-sub-container\" v-if=\"optionsLayers.length !== 0\">\r\n\r\n                <section class=\"option\" v-for=\"(item, index) in optionsLayers\" :key=\"index\">\r\n                    <SimpleDroplist v-if=\"item.length > 1\" :data=\"item\" v-on:choose=\"changeChosenOption(index, $event)\">\r\n                    </SimpleDroplist>\r\n                    <p v-else>{{item[0]}}</p>\r\n                </section>\r\n\r\n            </section>\r\n        </div>\r\n\r\n        <LazyLoadImage\r\n                class=\"main-image\" v-on:click=\"imageHandler\"\r\n                v-bind:url=\"currentImage\"\r\n        />\r\n\r\n        <!--<img class=\"main-image\" :src=\"currentImage\" v-on:click=\"imageHandler\">-->\r\n\r\n        <div class=\"content\" v-if=\"lastOptionLayer.data.length !== 0\" v-bind:style=\"cardContentStyle\">\r\n\r\n            <div class=\"option\" v-for=\"(size, index) in lastOptionLayer.data\" :key=\"size.name\">\r\n                <p class=\"name\" v-bind:class=\"{chosen: index === lastOptionLayer.chosenIndex}\"\r\n                   v-on:click=\"lastOptionLayer.chosenIndex = index\">\r\n                    {{size.name}}\r\n                </p>\r\n\r\n                <p class=\"quantity\" v-bind:class=\"{'chosen-quantity': index === lastOptionLayer.chosenIndex}\"\r\n                   v-on:click=\"lastOptionLayer.chosenIndex = index\">\r\n                    {{computedChildrenData[size.id].isCountInStockTooBig?\r\n                    ('>' + computedChildrenData[size.id].countInStock) :\r\n                    computedChildrenData[size.id].countInStock}} <span>шт.</span>\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"bottom\">\r\n            <MDRaisedButton v-bind:text=\"buttonText\" v-on:click=\"buyHandler()\">\r\n            </MDRaisedButton>\r\n\r\n            <!--<button v-on:click=\"buyHandler()\">\r\n                   Заказать\r\n            </button>-->\r\n\r\n            <p class=\"price\" v-if=\"optionsLayers.length !== 0\">{{currentOptionPrice}} ₴</p>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters } from 'vuex';\r\n    import modules from \"../../../store/all.modules.name\"\r\n\r\n    import SimpleDroplist from \"./SimpleDroplist\";\r\n    import {EventBus, Events} from \"../../../common/eventBus\";\r\n    import imageFetch from \"../../../common/imageFetch\";\r\n    import MDRaisedButton from \"../MD/MDRaisedButton\";\r\n    import LazyLoadImage from \"../lazyLoadImage/LazyLoadImage\";\r\n\r\n    export default {\r\n        name: \"CatalogCard\",\r\n\r\n        components: {LazyLoadImage, MDRaisedButton, SimpleDroplist},\r\n\r\n        props: {\r\n            id : {\r\n                type: Number,\r\n                required: true,\r\n            },\r\n\r\n            name: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n\r\n            options: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n\r\n            childrenData: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n\r\n            buttonText: {\r\n                type: String,\r\n                required: true\r\n            },\r\n\r\n            basketData: {\r\n                type: Array,\r\n                default: null,\r\n            },\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                route: [],\r\n                optionsLayers: [],\r\n                eventBus: null,\r\n\r\n                lastOptionLayer: {\r\n                    chosenIndex: 0,\r\n                    data: [],\r\n                },\r\n\r\n                cardContentStyle: {\r\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(' + 30 + 'px, max-content))',\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            changeChosenOption(indexInLayers, chosenIndex) {\r\n                this.route[indexInLayers] = chosenIndex;\r\n                this.reCalculateOptionsLayer();\r\n            },\r\n\r\n            imageHandler() {\r\n                this.eventBus.$emit(Events.showImagePreview, {img: imageFetch.fullSizeImageURL(this.currentOption.id)})\r\n            },\r\n\r\n            buyHandler() {\r\n                this.$emit(\"buy\", {\r\n                    id : this.currentOption.id,\r\n                    name: this.currentOption.fullName,\r\n                    //size: this.currentOption.size,\r\n                    //color: this.currentOption.color,\r\n                    hasImage: this.currentOption.hasImage,\r\n                    priceRetail: this.currentOption.priceRetail,\r\n                    priceWholesale: this.currentOption.priceWholesale\r\n                });\r\n            },\r\n\r\n            reCalculateOptionsLayer() {\r\n                let res = [],\r\n                    lastLayer = [],\r\n                    currentLayer = this.options;\r\n\r\n\r\n                for (let i = 0; i < this.route.length + 1; i++) {\r\n\r\n                    if (i !== this.route.length) {\r\n                        let temp = [];\r\n\r\n                        currentLayer.forEach((item) => {\r\n                            temp.push(item.name);\r\n                        });\r\n\r\n                        res.push(temp);\r\n\r\n                        if (currentLayer[this.route[i]]) {\r\n                            currentLayer = currentLayer[this.route[i]].options;\r\n                        } else {\r\n                            currentLayer = currentLayer[0].options;\r\n                            this.route[i] = 0;\r\n                        }\r\n\r\n                    } else {\r\n                        lastLayer = currentLayer;\r\n                        if (this.lastOptionLayer.chosenIndex > (lastLayer.length - 1)) {\r\n                            this.lastOptionLayer.chosenIndex = 0;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.optionsLayers = res;\r\n                this.lastOptionLayer.data = lastLayer;\r\n                this.reCalculateMaxOptionWidth();\r\n            },\r\n\r\n            calculateOptionsLayer() {\r\n                let res = [],\r\n                    lastLayer = [],\r\n                    tempRoute = [],\r\n                    currentLayer = this.options;\r\n\r\n                while (true) {\r\n                    if (currentLayer[0].options && currentLayer[0].options.length > 0) {\r\n                        let temp = [];\r\n\r\n                        currentLayer.forEach((item) => {\r\n                            temp.push(item.name);\r\n                        });\r\n\r\n                        res.push(temp);\r\n                        tempRoute.push(0);\r\n\r\n                        currentLayer = currentLayer[0].options;\r\n                    } else {\r\n                        lastLayer = currentLayer;\r\n                        break\r\n                    }\r\n                }\r\n\r\n                this.optionsLayers = res;\r\n                this.route = tempRoute;\r\n                this.lastOptionLayer.data = lastLayer;\r\n                this.reCalculateMaxOptionWidth();\r\n            },\r\n\r\n            reCalculateMaxOptionWidth() {\r\n                let max = 0,\r\n                    coef = 9;\r\n\r\n                if(!this.lastOptionLayer || !this.lastOptionLayer.data)\r\n                    return;\r\n\r\n                this.lastOptionLayer.data.forEach((item) => {\r\n                    if (item.name.length * coef > max) {\r\n                        max = item.name.length * coef;\r\n                    }\r\n                });\r\n\r\n                this.cardContentStyle.gridTemplateColumns = 'repeat(auto-fit, minmax(' + max + 'px, max-content))';\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            ...mapGetters(modules.catalog, [\r\n                \"basket\"\r\n            ]),\r\n\r\n            ...mapGetters(modules.user, [\r\n                \"pricesType\"\r\n            ]),\r\n\r\n            //considers purchased goods\r\n            computedChildrenData: function() {\r\n                let res = JSON.parse(JSON.stringify(this.childrenData));\r\n                let basket;\r\n                if (this.basketData) {\r\n                    basket = this.basketData;\r\n                } else {\r\n                    basket = this.basket;\r\n                }\r\n\r\n                //console.log({res});\r\n                Object.keys(res).forEach((id) => {\r\n                    let basketItem = basket.find((basketItem => basketItem.id === id));\r\n                    if (basketItem && !res[id].isCountInStockTooBig) {\r\n                        res[id].countInStock -= basketItem.boughtQuantity\r\n                    }\r\n                });\r\n\r\n                return res\r\n            },\r\n\r\n            currentImage: function () {\r\n\r\n                if (this.hasImage) {\r\n                    return imageFetch.imageURL(this.currentOption.id);\r\n                } else {\r\n                    return \"\";\r\n                }\r\n\r\n                //return \"https://s-cdn.sportbox.ru/images/styles/upload/fp_fotos/22/91/d815718cb0c678463c61276440025c00598b606041e1b103979205.jpg\"\r\n            },\r\n\r\n            hasImage: function() {\r\n                return this.currentOption && this.currentOption.hasImage\r\n            },\r\n\r\n            currentOption: function() {\r\n                if (this.lastOptionLayer.data.length === 0) {\r\n                    return\r\n                }\r\n                return this.childrenData[this.lastOptionLayer.data[this.lastOptionLayer.chosenIndex].id];\r\n            },\r\n\r\n            currentOptionPrice: function() {\r\n                if (!this.currentOption) {\r\n                    return 'Нет цены'\r\n                } else {\r\n                    return this.currentOption[this.pricesType];\r\n                }\r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            this.eventBus = EventBus;\r\n            this.calculateOptionsLayer();\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    @import '../../../assets/basic'\r\n\r\n    .card-minified\r\n        grid-template-rows: 80px auto 50px!important\r\n\r\n    .card\r\n        display: grid\r\n        grid-template-rows: 80px 210px auto 50px\r\n        //transition: 0.35s\r\n        background-color: $background-color\r\n        box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.12), 0 1px 4px 0px rgba(0, 0, 0, 0.24);\r\n        transition: all 0.3s cubic-bezier(.25,.8,.25,1)\r\n        border-radius: 5px\r\n        //grid-template-columns: 63px 1fr\r\n        padding: 10px 10px\r\n\r\n        @include higher-then($mobile)\r\n            &:hover\r\n                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0px 1px 6px rgba(0, 0, 0, 0.23)\r\n                //box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.5)\r\n\r\n        p\r\n            display: inline-block\r\n            margin: 0\r\n\r\n        .main-image\r\n            display: block\r\n            max-width: 100%\r\n            margin: 5px auto\r\n            height: 200px\r\n            cursor: pointer\r\n\r\n        .header\r\n            height: 80px\r\n            //overflow: hidden\r\n            display: flex\r\n            flex-direction: column\r\n            justify-content: space-around\r\n\r\n            .title\r\n                max-height: 85px\r\n                padding-bottom: 6px\r\n                overflow: hidden\r\n                display: block\r\n                position: relative\r\n                font-size: 1.1rem\r\n                line-height: 1\r\n                text-align: center\r\n\r\n                &:after\r\n                    display: block\r\n                    position: absolute\r\n                    width: 100%\r\n                    bottom: 0\r\n                    content: \"\"\r\n                    background: linear-gradient(to bottom, rgba(255,255,255,0), $background-color)\r\n                    height: 5px\r\n\r\n            .title-minified\r\n                font-size: 0.9rem!important\r\n                line-height: 1.1!important\r\n\r\n\r\n            .title-sub-container\r\n                display: flex\r\n                justify-content: space-around\r\n\r\n                .option\r\n                    p\r\n                        max-height: 40px\r\n                        max-width: 100px\r\n                        overflow: hidden\r\n                        display: block\r\n                        text-align: center\r\n                        color: #777777\r\n                        font-size: 0.9em\r\n\r\n        .content\r\n            border-top: 2px solid #777777\r\n            margin-top: 10px\r\n            display: grid\r\n            grid-template-columns: repeat(auto-fit, 45px)\r\n            row-gap: 20px\r\n            align-items: center\r\n            justify-content: space-around\r\n            padding-left: 10px\r\n            padding-right: 10px\r\n            padding-top: 10px\r\n\r\n            .option\r\n                display: grid\r\n                grid-template-rows: auto auto\r\n                text-align: center\r\n                align-items: center\r\n                justify-content: center\r\n\r\n                .name\r\n                    cursor: pointer\r\n                    padding: 1px 2px\r\n                    color: #bababa\r\n                    transition: 0.2s\r\n\r\n                .chosen\r\n                    //background-color: $secondary-color\r\n                    //color: $background-color\r\n                    color: black\r\n                    cursor: unset\r\n\r\n                .chosen-quantity\r\n                    color: black!important\r\n                    cursor: unset!important\r\n\r\n                .quantity\r\n                    cursor: pointer\r\n                    color: #bababa\r\n                    font-size: 0.9em\r\n                    transition: 0.2s\r\n\r\n                    span\r\n                        font-size: 0.8em\r\n\r\n        .bottom\r\n            display: flex\r\n            align-items: center\r\n            margin-top: 20px\r\n\r\n            .price\r\n                margin-left: auto\r\n\r\n            button\r\n                display: block\r\n                max-width: 120px\r\n                width: 80%\r\n                background-color: $secondary-color\r\n                color: $background-color\r\n                font-size: 16px\r\n                padding-top: 5px\r\n                padding-bottom: 5px\r\n                border: none\r\n                border-radius: 5px\r\n\r\n                &:hover\r\n                    cursor: pointer\r\n\r\n                &:focus\r\n                    outline: none\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=0c73732e&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=0c73732e&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c73732e\",\n  null\n  \n)\n\nexport default component.exports","export const INTERNAL_SERVER_ERR = \"произошла ошибка на сервере\";\r\n\r\nexport default {\r\n    INTERNAL_SERVER_ERR\r\n}","import {CatalogAPI} from \"../../../api/catalog\";\r\n\r\nexport const productUpdater = {\r\n    socketData: null,\r\n\r\n    handshakePayload: null,\r\n\r\n    isClosed: false,\r\n\r\n    timer: null,\r\n\r\n    start() {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                this.isClosed = false;\r\n                this.socketData = CatalogAPI.createProductsCountInStockUpdater();\r\n                this.socketData.socket.onclose = this.onWSClose;\r\n                this.socketData.socket.onerror = this.onWSError;\r\n                this.socketData.socket.onopen = () => {\r\n                    resolve();\r\n                }\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    },\r\n\r\n    sendHandshake(payload) {\r\n        return new Promise((resolve, reject) => {\r\n            this.handshakePayload = payload;\r\n\r\n            try {\r\n                this.socketData.sendJSONMessage({\r\n                    action: \"HANDSHAKE\",\r\n                    payload,\r\n                }, (event) => {\r\n                    let data = JSON.parse(event.data);\r\n\r\n                    if (data.status && data.status === \"ok\") {\r\n                        resolve();\r\n                    } else {\r\n                        console.error(\"HANDSHAKE was unsuccessful\");\r\n                        this.close();\r\n                        throw new Error(\"ba status\");\r\n                    }\r\n                })\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    },\r\n\r\n    updateHandshake() {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n\r\n                console.log({payload: this.handshakePayload});\r\n\r\n                this.socketData.sendJSONMessage({\r\n                    action: \"HANDSHAKE\",\r\n                    payload: this.handshakePayload,\r\n                }, (event) => {\r\n                    let data = JSON.parse(event.data);\r\n\r\n                    if (data.status && data.status === \"ok\") {\r\n                        console.log(\"handshake was updated\");\r\n                        resolve();\r\n                    } else {\r\n                        console.error(\"HANDSHAKE update was unsuccessful\");\r\n                        this.close();\r\n                        throw new Error(\"bad status\");\r\n                    }\r\n                })\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    },\r\n\r\n    sendGetData() {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                this.socketData.sendJSONMessage({action: \"GET\"}, (event) => {\r\n                    let data = JSON.parse(event.data);\r\n\r\n                    if (data.status && data.status === \"ok\" && data.data) {\r\n                        /*et parsedData = {};\r\n\r\n                        for (let i = 0; i < data.data.length; i++) {\r\n                            parsedData[this.handshakePayload[i]] = data.data[i];\r\n                        }*/\r\n                        resolve(data.data);\r\n                    } else {\r\n                        console.error(\"ws on GET error\", {data});\r\n                        this.close();\r\n                        throw new Error(\"ws error\");\r\n                    }\r\n                });\r\n            } catch (e) {\r\n                reject(e)\r\n            }\r\n        });\r\n    },\r\n\r\n    close() {\r\n        if (this.timer) {\r\n            clearTimeout(this.timer);\r\n            this.timer = null;\r\n        }\r\n\r\n        if (this.socketData && this.socketData.socket) {\r\n            this.socketData.socket.close();\r\n        }\r\n    },\r\n\r\n    onWSError(error) {\r\n        this.close();\r\n        console.error(\"ws error\", {error})\r\n    },\r\n\r\n    onWSClose() {\r\n        this.isClosed = true;\r\n        this.socketData = null;\r\n        this.handshakePayload = null;\r\n    },\r\n\r\n    isWorking() {\r\n        return this.socketData !== null && this.socketData.socket !== null\r\n            && this.socketData.socket.readyState === 1\r\n    },\r\n\r\n};","<template>\r\n    <section class=\"layout\" v-if=\"error.length === 0\">\r\n\r\n        <h1 class=\"title\" v-if=\"$route && $route.name === 'catalog'\">{{categoryId}}</h1>\r\n        <h1 class=\"title\" v-if=\"$route && $route.name === 'search'\">\"{{searchRequest}}\"</h1>\r\n\r\n        <div v-if=\"($route.name === 'catalog' || $route.name === 'catalogWithSub' || isComponent) && categoryId !== null && products.length !== 0\"\r\n             class=\"search-result-wrapper\" id=\"grid\" v-bind:style=\"{'margin-bottom': searchResultWrapperMarginBottom}\">\r\n\r\n            <Card v-for=\"item in products\" :key=\"item.id\"\r\n                  :id=\"item.id\" :name=\"item.name\"\r\n                  :options=\"item.options\" :children-data=\"item.childrenData\"\r\n                  :button-text=\"componentData ? componentData.buttonText : 'Заказать'\"\r\n                  :basket-data=\"basketData\"\r\n                  v-on:buy=\"onBuy\">\r\n            </Card>\r\n\r\n        </div>\r\n\r\n        <div v-if=\" ($route.name === 'search' || isComponent) && products.length !== 0 && searchRequest !== null\"\r\n             class=\"search-result-wrapper\" id=\"grid\" v-bind:style=\"{'margin-bottom': searchResultWrapperMarginBottom}\">\r\n\r\n            <Card v-for=\"item in products\" :key=\"item.id\"\r\n                  :id=\"item.id\" :name=\"item.name\"\r\n                  :options=\"item.options\" :children-data=\"item.childrenData\"\r\n                  :button-text=\"componentData ? componentData.buttonText : 'Заказать' \" v-on:buy=\"onBuy\">\r\n            </Card>\r\n\r\n        </div>\r\n\r\n        <div class=\"spinner\" v-observe-visibility=\"onBottomReached\">\r\n            <LoadingSpinner v-if=\"isLoading\"></LoadingSpinner>\r\n        </div>\r\n\r\n        <!--Basket -->\r\n        <Basket v-bind:data=\"!isComponent ? basket: basketData\"\r\n                v-bind:can-be-ordered=\"!isComponent\"\r\n                @ordering=\"onOrdering\" @remove=\"onRemove\">\r\n        </Basket>\r\n\r\n    </section>\r\n\r\n    <section class=\"layout\" v-else>\r\n        <h1 class=\"title\">{{error}}</h1>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters, mapActions, mapMutations } from 'vuex';\r\n    import modules from \"../store/all.modules.name\"\r\n    import actions from \"../store/all.actions.type\";\r\n    import mutations from \"../store/all.mutations.type\";\r\n\r\n    import Card from \"./components/catalog/Card\";\r\n    import LoadingSpinner from \"./components/LoadingSpinner\";\r\n\r\n    import {CatalogAPI} from \"../api/catalog\";\r\n    import {INTERNAL_SERVER_ERR} from \"../common/errors\";\r\n\r\n    import {productUpdater} from \"../store/modules/catalog/WSProductsUpdater\";\r\n\r\n    import Vue from 'vue'\r\n    import VueObserveVisibility from 'vue-observe-visibility'\r\n    Vue.use(VueObserveVisibility);\r\n\r\n    import myStorage from \"../common/cache\";\r\n    const cache = myStorage('api');\r\n\r\n    const itemsPerPage = 9;\r\n\r\n    export default {\r\n        name: \"Catalog\",\r\n\r\n        components: {\r\n            LoadingSpinner,\r\n            Basket: () => import(\"./components/catalog/Basket\"),\r\n            Card\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                isLoading: true,\r\n                hasMoreToLoad: false,\r\n\r\n                lastPageNumber: 1,\r\n                paginatedProducts: [],\r\n\r\n                error: '',\r\n\r\n                productUpdater: null,\r\n                productUpdaterInitTimer: null,\r\n            }\r\n        },\r\n\r\n        props: {\r\n            isComponent: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n\r\n            componentData: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n\r\n            basketData: {\r\n                type: Array,\r\n                default: null,\r\n            },\r\n        },\r\n\r\n        methods: {\r\n            ...mapActions(modules.catalog, [\r\n                actions.catalog.ADD_TO_BASKET,\r\n            ]),\r\n\r\n            ...mapMutations(modules.catalog, [\r\n                mutations.catalog.REMOVE_FROM_BASKET,\r\n                mutations.catalog.SET_IS_BASKET_MINIMIZED,\r\n            ]),\r\n\r\n            async init() {\r\n                this.lastPageNumber = 1;\r\n                this.paginatedProducts = [];\r\n                this.error = \"\";\r\n                this.hasMoreToLoad = false;\r\n                this.isLoading = true;\r\n\r\n                if (this.searchRequest) {\r\n                    await this.search(this.searchRequest);\r\n                } else if (this.categoryId) {\r\n                    await this.getProducts();\r\n                }\r\n\r\n                this.isLoading = false;\r\n            },\r\n\r\n            onBuy(item) {\r\n                this.setIsBasketMinimized(false);\r\n\r\n                if (!this.isComponent) {\r\n                    this.addToBasket(item)\r\n                } else {\r\n                    this.$emit('buy', item);\r\n                }\r\n            },\r\n\r\n            onOrdering() {\r\n                this.$router.push({name: \"ordering\"})\r\n            },\r\n\r\n            onRemove(index) {\r\n                if (!this.isComponent) {\r\n                    this.removeFromBasket(index);\r\n                } else {\r\n                    this.$emit('basketRemove', index)\r\n                }\r\n            },\r\n\r\n            onBottomReached(isVisible) {\r\n                if (!this.isLoading && this.hasMoreToLoad && this.error.length === 0 && isVisible) {\r\n                    this.isLoading = true;\r\n                    this.getMoreProducts()\r\n                        .then(() => {\r\n                            this.isLoading = false;\r\n                        })\r\n                }\r\n            },\r\n\r\n            async getProducts() {\r\n                let payload = {\r\n                    categoryId: this.categoryId,\r\n                    subCategoryId: this.subCategoryId,\r\n                    itemsPerPage\r\n                };\r\n\r\n                try {\r\n                    let result = await CatalogAPI.getProductsByCategory(payload);\r\n                    if (result !== null) {\r\n                        let data = await result.json();\r\n                        this.paginatedProducts.push({\r\n                            pageNumber: 1,\r\n                            data,\r\n                        });\r\n\r\n                        if (data.length === itemsPerPage) {\r\n                            this.hasMoreToLoad = true;\r\n                        }\r\n\r\n                        //let payload = {categoryId, subCategoryId};\r\n\r\n                        /*if (!result.isFromCache) {\r\n                            if (state.productUpdaterInitTimer) {\r\n                                clearTimeout(state.productUpdaterInitTimer);\r\n                            }\r\n\r\n                            state.productUpdaterInitTimer = setTimeout(() => dispatch(RUN_PRODUCTS_UPDATER, payload), PRODUCTS_UPDATE_TIME * 1000);\r\n                        } else {\r\n                            dispatch(RUN_PRODUCTS_UPDATER, payload)\r\n                        }*/\r\n                    } else {\r\n                        console.error({result}, \"while loading products\");\r\n                        this.error = INTERNAL_SERVER_ERR;\r\n                    }\r\n                } catch (e) {\r\n                    console.error({e}, \"while loading products\");\r\n                    this.error = INTERNAL_SERVER_ERR;\r\n                }\r\n            },\r\n\r\n            async getMoreProducts() {\r\n                this.lastPageNumber++;\r\n                this.hasMoreToLoad = false;\r\n                let payload = {\r\n                    categoryId: this.categoryId,\r\n                    subCategoryId: this.subCategoryId,\r\n                    itemsPerPage,\r\n                    pageNumber: this.lastPageNumber,\r\n                };\r\n\r\n                try {\r\n                    let {itemsPerPage} = payload;\r\n                    let result = await CatalogAPI.getMoreProductsByCategory(payload);\r\n\r\n                    if (result !== null) {\r\n                        let data = await result.json();\r\n                        this.paginatedProducts.push({\r\n                            pageNumber: payload.pageNumber,\r\n                            data,\r\n                        });\r\n\r\n                        this.hasMoreToLoad = data.length === itemsPerPage;\r\n                    } else {\r\n                        console.error({result}, \"while loading more products\");\r\n                        this.error = INTERNAL_SERVER_ERR;\r\n                    }\r\n\r\n                } catch (e) {\r\n                    console.error({e}, \"while loading more products\");\r\n                    this.error = INTERNAL_SERVER_ERR;\r\n                }\r\n            },\r\n\r\n            async search() {\r\n                try {\r\n                    const result = await CatalogAPI.search(this.searchRequest);\r\n                    if (result !== null) {\r\n                        let data = await result.json();\r\n                        this.paginatedProducts.push({\r\n                            data\r\n                        })\r\n\r\n                        /*let childrenIds = [];\r\n                        data.forEach((item) => {\r\n                            childrenIds = [...Object.keys(item.childrenData), ...childrenIds];\r\n                        });\r\n\r\n                        /*if (!result.isFromCache) {\r\n                            if (state.productUpdaterInitTimer) {\r\n                                clearTimeout(state.productUpdaterInitTimer);\r\n                            }\r\n                            state.productUpdaterInitTimer = setTimeout(() => dispatch(RUN_PRODUCTS_UPDATER, {additional: childrenIds}),\r\n                                PRODUCTS_UPDATE_TIME * 1000);\r\n                        } else {\r\n                            dispatch(RUN_PRODUCTS_UPDATER, {additional: childrenIds})\r\n                        }*/\r\n                    } else {\r\n                        console.error({result}, \"while search\");\r\n                        this.error = INTERNAL_SERVER_ERR;\r\n                    }\r\n                } catch (e) {\r\n                    console.error({e}, \"while search\");\r\n                    this.error = INTERNAL_SERVER_ERR;\r\n                }\r\n            },\r\n\r\n            async runProductUpdater() {\r\n                let downloadAndUpdateData = async () => {\r\n                    let res = await this.productUpdater.sendGetData();\r\n\r\n                    for (let itemId in res) {\r\n\r\n                        for (let i = 0; i < this.paginatedProducts.length; i++) {\r\n\r\n                            for (let prId in this.paginatedProducts[i].data) {\r\n\r\n                                if (prId === itemId) {\r\n                                    this.paginatedProducts[i].data[prId].isCountInStockTooBig = res[itemId].isCountInStockTooBig;\r\n                                    this.paginatedProducts[i].data[prId].countInStock = res[itemId].countInStock;\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    await this.synchronizeWithCache();\r\n                    this.productUpdater.timer = setTimeout(() => this.runProductUpdater, PRODUCTS_UPDATE_TIME * 1000);\r\n                };\r\n\r\n                this.productUpdaterInitTimer = null;\r\n                try {\r\n\r\n                    if (!this.productUpdater || this.productUpdater.isClosed) {\r\n                        this.productUpdater = productUpdater;\r\n                        await this.productUpdater.start();\r\n                        await this.productUpdater.sendHandshake(payload);\r\n                        await downloadAndUpdateData();\r\n\r\n                    } else if (this.productUpdater && this.productUpdater.isWorking()) {\r\n                        await downloadAndUpdateData();\r\n                    }\r\n                } catch (e) {\r\n                    console.error(e);\r\n\r\n                    if (this.productUpdater) {\r\n                        this.productUpdater.close();\r\n                        this.productUpdater = null;\r\n                    }\r\n                }\r\n            },\r\n\r\n            async synchronizeWithCache() {\r\n                if (this.searchRequest) {\r\n                    let cacheId = `/catalog/search/request:${this.searchRequest};`;\r\n                    let response = await cache.get(cacheId);\r\n                    if (response) {\r\n                        await cache.updateJSON(cacheId, this.products);\r\n                    }\r\n                } else if (this.categoryId) {\r\n\r\n                    for (let i = 0; i < this.paginatedProducts.length; i++) {\r\n                        let item = this.paginatedProducts[i];\r\n\r\n                        let cacheId;\r\n                        if (item.pageNumber === 1) {\r\n                            if (this.subCategoryId) {\r\n                                cacheId = `/catalog/getProductsByCategory/categoryId:${this.categoryId};subCategoryId:${this.subCategoryId};`\r\n                            } else {\r\n                                cacheId = `/catalog/getProductsByCategory/categoryId:${this.categoryId};`\r\n                            }\r\n                        } else {\r\n                            if (this.subCategoryId) {\r\n                                cacheId = `/catalog/getMoreProductsByCategory/categoryId:${this.categoryId};subCategoryId:${this.subCategoryId};pageNumber:${item.pageNumber};`\r\n                            } else {\r\n                                cacheId = `/catalog/getMoreProductsByCategory/categoryId:${this.categoryId};pageNumber:${item.pageNumber};`\r\n                            }\r\n                        }\r\n\r\n                        let response = await cache.get(cacheId);\r\n                        if (response) {\r\n                            await cache.updateJSON(cacheId, item.data);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            ...mapGetters(modules.catalog, [\r\n                \"basket\",\r\n            ]),\r\n\r\n            products: function() {\r\n                let res = [];\r\n                this.paginatedProducts.sort((a, b) => {\r\n                    if (a.pageNumber && b.pageNumber) {\r\n                        return a.pageNumber - b.pageNumber\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                });\r\n                this.paginatedProducts.forEach(item => {\r\n                    if (item.data) {\r\n                        res.push(...item.data);\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n\r\n            searchResultWrapperMarginBottom: function() {\r\n                if (this.isBaskeWindowVisible) {\r\n                    return 230 + \"px\"\r\n                } else {\r\n                    return 0 + \"px\"\r\n                }\r\n            },\r\n\r\n            categoryId: function () {\r\n                if (this.$route && this.$route.params && (this.$route.name === \"catalog\" || this.$route.name === \"catalogWithSub\")) {\r\n                    return this.$route.params.categoryId;\r\n                } else if (this.$props.componentData && this.$props.componentData.category && this.$props.componentData.category.length !== 0) {\r\n                    return this.$props.componentData.category;\r\n                } else {\r\n                    return null;\r\n                }\r\n            },\r\n\r\n            subCategoryId: function () {\r\n                if (this.$route !== null && this.$route.params !== null && this.$route.name === \"catalogWithSub\") {\r\n                    return this.$route.params.subCategoryId;\r\n                } else if (this.$props.componentData && this.$props.componentData.subCategory && this.$props.componentData.subCategory.length !== 0) {\r\n                    return this.$props.componentData.subCategory;\r\n                } else {\r\n                    return null;\r\n                }\r\n            },\r\n\r\n            searchRequest: function () {\r\n                if (this.$route !== null && this.$route.params !== null && this.$route.name === \"search\") {\r\n                    return this.$route.params.request;\r\n                } else if (this.$props.componentData && this.$props.componentData.searchRequest && this.$props.componentData.searchRequest.length !== 0){\r\n                    return this.$props.componentData.searchRequest\r\n                } else {\r\n                    return null\r\n                }\r\n            },\r\n        },\r\n\r\n        watch: {\r\n            '$route': {\r\n                handler: function() {\r\n                    this.init();\r\n                },\r\n                deep: true,\r\n                immediate: true\r\n            }\r\n        },\r\n\r\n        beforeDestroy() {\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    @import '../assets/basic'\r\n\r\n    .layout\r\n        width: 90%!important\r\n        margin: auto\r\n        max-width: 1200px!important\r\n        font-family: Roboto, sans-serif\r\n\r\n        .title\r\n            text-align: center\r\n            font-size: 1.8rem\r\n            font-weight: normal\r\n            font-family: Oswald, sans-serif\r\n\r\n        .spinner\r\n            display: flex\r\n            justify-content: center\r\n            margin-top: 2rem\r\n\r\n\r\n        .search-result-wrapper\r\n            display: grid\r\n            grid-gap: 15px\r\n            grid-template-columns: repeat( auto-fill, minmax(250px, 1fr) )\r\n\r\n            /*@include mobile\r\n                grid-template-columns: 1fr\r\n\r\n            /*@include tablet\r\n                grid-template-columns: repeat(2, 1fr)\r\n\r\n            /*@include laptop\r\n                grid-template-columns: repeat(3, 1fr)\r\n\r\n            /*@include laptop-l\r\n                grid-template-columns: repeat(4, 1fr)\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Catalog.vue?vue&type=template&id=14b5d0c4&scoped=true&\"\nimport script from \"./Catalog.vue?vue&type=script&lang=js&\"\nexport * from \"./Catalog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Catalog.vue?vue&type=style&index=0&id=14b5d0c4&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14b5d0c4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=style&index=0&id=c354353a&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=style&index=0&id=c354353a&lang=sass&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=0c73732e&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=0c73732e&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=style&index=0&id=14b5d0c4&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=style&index=0&id=14b5d0c4&lang=sass&scoped=true&\"","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction processOptions(value) {\n\tvar options = void 0;\n\tif (typeof value === 'function') {\n\t\t// Simple options (callback-only)\n\t\toptions = {\n\t\t\tcallback: value\n\t\t};\n\t} else {\n\t\t// Options object\n\t\toptions = value;\n\t}\n\treturn options;\n}\n\nfunction throttle(callback, delay) {\n\tvar timeout = void 0;\n\tvar lastState = void 0;\n\tvar currentArgs = void 0;\n\tvar throttled = function throttled(state) {\n\t\tfor (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\targs[_key - 1] = arguments[_key];\n\t\t}\n\n\t\tcurrentArgs = args;\n\t\tif (timeout && state === lastState) return;\n\t\tlastState = state;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(function () {\n\t\t\tcallback.apply(undefined, [state].concat(toConsumableArray(currentArgs)));\n\t\t\ttimeout = 0;\n\t\t}, delay);\n\t};\n\tthrottled._clear = function () {\n\t\tclearTimeout(timeout);\n\t};\n\treturn throttled;\n}\n\nfunction deepEqual(val1, val2) {\n\tif (val1 === val2) return true;\n\tif ((typeof val1 === 'undefined' ? 'undefined' : _typeof(val1)) === 'object') {\n\t\tfor (var key in val1) {\n\t\t\tif (!deepEqual(val1[key], val2[key])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nvar VisibilityState = function () {\n\tfunction VisibilityState(el, options, vnode) {\n\t\tclassCallCheck(this, VisibilityState);\n\n\t\tthis.el = el;\n\t\tthis.observer = null;\n\t\tthis.frozen = false;\n\t\tthis.createObserver(options, vnode);\n\t}\n\n\tcreateClass(VisibilityState, [{\n\t\tkey: 'createObserver',\n\t\tvalue: function createObserver(options, vnode) {\n\t\t\tvar _this = this;\n\n\t\t\tif (this.observer) {\n\t\t\t\tthis.destroyObserver();\n\t\t\t}\n\n\t\t\tif (this.frozen) return;\n\n\t\t\tthis.options = processOptions(options);\n\n\t\t\tthis.callback = this.options.callback;\n\t\t\t// Throttle\n\t\t\tif (this.callback && this.options.throttle) {\n\t\t\t\tthis.callback = throttle(this.callback, this.options.throttle);\n\t\t\t}\n\n\t\t\tthis.oldResult = undefined;\n\n\t\t\tthis.observer = new IntersectionObserver(function (entries) {\n\t\t\t\tvar entry = entries[0];\n\t\t\t\tif (_this.callback) {\n\t\t\t\t\t// Use isIntersecting if possible because browsers can report isIntersecting as true, but intersectionRatio as 0, when something very slowly enters the viewport.\n\t\t\t\t\tvar result = entry.isIntersecting && entry.intersectionRatio >= _this.threshold;\n\t\t\t\t\tif (result === _this.oldResult) return;\n\t\t\t\t\t_this.oldResult = result;\n\t\t\t\t\t_this.callback(result, entry);\n\t\t\t\t\tif (result && _this.options.once) {\n\t\t\t\t\t\t_this.frozen = true;\n\t\t\t\t\t\t_this.destroyObserver();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this.options.intersection);\n\n\t\t\t// Wait for the element to be in document\n\t\t\tvnode.context.$nextTick(function () {\n\t\t\t\t_this.observer.observe(_this.el);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'destroyObserver',\n\t\tvalue: function destroyObserver() {\n\t\t\tif (this.observer) {\n\t\t\t\tthis.observer.disconnect();\n\t\t\t\tthis.observer = null;\n\t\t\t}\n\n\t\t\t// Cancel throttled call\n\t\t\tif (this.callback && this.callback._clear) {\n\t\t\t\tthis.callback._clear();\n\t\t\t\tthis.callback = null;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'threshold',\n\t\tget: function get$$1() {\n\t\t\treturn this.options.intersection && this.options.intersection.threshold || 0;\n\t\t}\n\t}]);\n\treturn VisibilityState;\n}();\n\nfunction bind(el, _ref, vnode) {\n\tvar value = _ref.value;\n\n\tif (typeof IntersectionObserver === 'undefined') {\n\t\tconsole.warn('[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill');\n\t} else {\n\t\tvar state = new VisibilityState(el, value, vnode);\n\t\tel._vue_visibilityState = state;\n\t}\n}\n\nfunction update(el, _ref2, vnode) {\n\tvar value = _ref2.value,\n\t    oldValue = _ref2.oldValue;\n\n\tif (deepEqual(value, oldValue)) return;\n\tvar state = el._vue_visibilityState;\n\tif (state) {\n\t\tstate.createObserver(value, vnode);\n\t} else {\n\t\tbind(el, { value: value }, vnode);\n\t}\n}\n\nfunction unbind(el) {\n\tvar state = el._vue_visibilityState;\n\tif (state) {\n\t\tstate.destroyObserver();\n\t\tdelete el._vue_visibilityState;\n\t}\n}\n\nvar ObserveVisibility = {\n\tbind: bind,\n\tupdate: update,\n\tunbind: unbind\n};\n\n// Install the components\nfunction install(Vue) {\n\tVue.directive('observe-visibility', ObserveVisibility);\n\t/* -- Add more components here -- */\n}\n\n/* -- Plugin definition & Auto-install -- */\n/* You shouldn't have to modify the code below */\n\n// Plugin\nvar plugin = {\n\t// eslint-disable-next-line no-undef\n\tversion: \"0.4.3\",\n\tinstall: install\n};\n\n// Auto-install\nvar GlobalVue = null;\nif (typeof window !== 'undefined') {\n\tGlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n\tGlobalVue = global.Vue;\n}\nif (GlobalVue) {\n\tGlobalVue.use(plugin);\n}\n\nexport { install, ObserveVisibility };\nexport default plugin;\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableList.vue?vue&type=style&index=0&id=0e1c8988&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableList.vue?vue&type=style&index=0&id=0e1c8988&lang=sass&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableListItem.vue?vue&type=style&index=0&id=328dc628&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableListItem.vue?vue&type=style&index=0&id=328dc628&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"layout\"},[(_vm.categories.length !== 0)?_c('ExpandableList',{attrs:{\"data\":_vm.dataToBind},on:{\"choose\":_vm.onCategoryChoose,\"expand\":_vm.onCategoryExpand}}):_vm._e(),_c('Basket',{attrs:{\"data\":!_vm.isComponent ? _vm.basket: _vm.basketData,\"can-be-ordered\":!_vm.isComponent},on:{\"ordering\":_vm.onBasketOrdering,\"remove\":_vm.onBasketRemove}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"expandable-list\"},_vm._l((_vm.data),function(item){return _c('ExpandableListItem',{key:item.id,attrs:{\"id\":item.id,\"name\":item.name,\"children\":item.children,\"is-expanded\":item.isExpanded},on:{\"choose\":_vm.onChoose,\"expand\":_vm.onExpand}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"item-wrapper\"},[_c('div',{staticClass:\"item\",on:{\"click\":_vm.clickHandler}},[_c('p',[_vm._v(_vm._s(_vm.name))]),(!_vm.isChildrenVisible && _vm.hasChilren)?_c('img',{attrs:{\"src\":\"/svgs/caret-down.svg\"}}):_vm._e(),(_vm.isChildrenVisible && _vm.hasChilren)?_c('img',{attrs:{\"src\":\"/svgs/caret-up.svg\"}}):_vm._e()]),(_vm.hasChilren && _vm.isChildrenVisible)?_c('section',{staticClass:\"children\"},_vm._l((_vm.children),function(item){return _c('ExpandableListItem',{key:item.id,attrs:{\"name\":item.name,\"children\":item.children,\"id\":item.id},on:{\"choose\":_vm.onChoose}})}),1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"item-wrapper\">\r\n\r\n        <div class=\"item\" v-on:click=\"clickHandler\">\r\n            <p>{{name}}</p>\r\n            <img v-if=\"!isChildrenVisible && hasChilren\" src=\"/svgs/caret-down.svg\"/>\r\n            <img v-if=\"isChildrenVisible && hasChilren\" src=\"/svgs/caret-up.svg\"/>\r\n            <!--<i v-if=\"!isChildrenVisible && hasChilren\" class=\"fas fa-caret-down\"></i>\r\n            <i v-if=\"isChildrenVisible && hasChilren\" class=\"fas fa-caret-up\"></i>-->\r\n        </div>\r\n\r\n        <section class=\"children\" v-if=\"hasChilren && isChildrenVisible\">\r\n\r\n            <ExpandableListItem v-for=\"item in children\" :key=\"item.id\"\r\n                                v-bind:name=\"item.name\" v-bind:children=\"item.children\"\r\n                                v-bind:id=\"item.id\" @choose=\"onChoose\">\r\n\r\n            </ExpandableListItem>\r\n\r\n        </section>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ExpandableListItem\",\r\n\r\n        props: {\r\n            id: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n\r\n            name: {\r\n                type: String,\r\n                require: true,\r\n            },\r\n\r\n            children: {\r\n                type: Array,\r\n                required: false,\r\n            },\r\n\r\n            isExpanded: {\r\n                type: Boolean,\r\n                required: false,\r\n            }\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                isChildrenVisible: false,\r\n            }\r\n        },\r\n\r\n        methods: {\r\n\r\n            clickHandler() {\r\n                if (this.children) {\r\n                    this.isChildrenVisible = !this.isChildrenVisible;\r\n                    this.$emit('expand', this.id);\r\n                } else {\r\n                    this.$emit('choose', {id: this.id, name: this.name})\r\n                }\r\n            },\r\n\r\n            onChoose(item) {\r\n                //console.log(\"item:\", item);\r\n                item.subId = item.id;\r\n                item.id = this.id;\r\n                this.$emit('choose', item);\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            hasChilren: function () {\r\n                return this.children && this.children.length !== 0\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            if (this.isExpanded !== null && this.isExpanded !== undefined) {\r\n                this.isChildrenVisible = this.isExpanded;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n\r\n    .item-wrapper\r\n        border-bottom: 2px solid #E0E0E0\r\n\r\n        &:last-child\r\n            border-bottom: none\r\n\r\n        .item\r\n            cursor: pointer\r\n            display: inline-flex\r\n            width: 100%\r\n            padding: 10px 0 0\r\n            transition: 0.35s\r\n            justify-content: flex-end\r\n\r\n            p\r\n                margin-right: auto\r\n\r\n            img\r\n                width: 15px\r\n                height: 15px\r\n                margin-top: 1rem\r\n                margin-bottom: 1rem\r\n\r\n            &:hover\r\n                background-color: #F5F5F5\r\n\r\n        .children\r\n            .item-wrapper\r\n                border-bottom: none\r\n                //border: 1px solid red\r\n\r\n            .item p\r\n                margin-left: 15px\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExpandableListItem.vue?vue&type=template&id=328dc628&scoped=true&\"\nimport script from \"./ExpandableListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ExpandableListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExpandableListItem.vue?vue&type=style&index=0&id=328dc628&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"328dc628\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n    <div class=\"expandable-list\">\r\n        <ExpandableListItem v-for=\"item in data\" :key=\"item.id\"\r\n                            v-bind:id=\"item.id\" v-bind:name=\"item.name\"\r\n                            v-bind:children=\"item.children\" v-bind:is-expanded=\"item.isExpanded\"\r\n                            @choose=\"onChoose\" @expand=\"onExpand\">\r\n        </ExpandableListItem>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    import ExpandableListItem from \"./ExpandableListItem\";\r\n\r\n    export default {\r\n        name: \"ExpandableList\",\r\n\r\n        components: {ExpandableListItem},\r\n\r\n        props: {\r\n            data: {\r\n                type: Array,\r\n\r\n                require: true,\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            onChoose(item) {\r\n                this.$emit('choose', item);\r\n            },\r\n\r\n            onExpand(item) {\r\n                this.$emit('expand', item);\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    .expandable-list\r\n        display: block\r\n        font-family: Roboto, sans-serif\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExpandableList.vue?vue&type=template&id=0e1c8988&scoped=true&\"\nimport script from \"./ExpandableList.vue?vue&type=script&lang=js&\"\nexport * from \"./ExpandableList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExpandableList.vue?vue&type=style&index=0&id=0e1c8988&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e1c8988\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <section class=\"layout\">\r\n        <ExpandableList  v-if=\"categories.length !== 0\" v-bind:data=\"dataToBind\"\r\n                         @choose=\"onCategoryChoose\" @expand=\"onCategoryExpand\">\r\n        </ExpandableList>\r\n\r\n        <Basket v-bind:data=\"!isComponent ? basket: basketData\"\r\n                v-bind:can-be-ordered=\"!isComponent\" @ordering=\"onBasketOrdering\"\r\n                @remove=\"onBasketRemove\">\r\n        </Basket>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters, mapActions, mapMutations } from 'vuex';\r\n    import actions from \"../store/all.actions.type\";\r\n    import mutations from \"../store/all.mutations.type\";\r\n    import modules from \"../store/all.modules.name\"\r\n\r\n    import ExpandableList from \"./components/expandableList/ExpandableList\";\r\n    import Basket from \"./components/catalog/Basket\";\r\n\r\n    export default {\r\n        name: \"CategoryChoose\",\r\n\r\n        components: {Basket, ExpandableList},\r\n\r\n        props: {\r\n            isComponent: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n\r\n            basketData: {\r\n                type: Array,\r\n                default: null,\r\n            },\r\n        },\r\n\r\n        methods: {\r\n            ...mapActions(modules.catalog, [\r\n                actions.catalog.LOAD_CATEGORIES,\r\n            ]),\r\n\r\n            ...mapMutations(modules.catalog, [\r\n                mutations.catalog.REMOVE_FROM_BASKET,\r\n            ]),\r\n\r\n            onCategoryChoose(val) {\r\n                if (!this.isComponent) {\r\n\r\n                    if (val.subId) {\r\n                        this.$router.push({ path: `/catalog/${val.id}/${val.subId}` });\r\n                    } else {\r\n                        this.$router.push({ path: `/catalog/${val.id}` });\r\n                    }\r\n\r\n                } else {\r\n                    this.$emit('choose', {category: val.id, subCategory: val.subId})\r\n                }\r\n            },\r\n\r\n            onCategoryExpand(val) {\r\n                if (!this.isComponent) {\r\n                    this.$store.commit(modules.catalog + \"/\" + mutations.catalog.CHOOSE_CATEGORY, val);\r\n                }\r\n            },\r\n\r\n            onBasketRemove(index) {\r\n                if (!this.isComponent) {\r\n                    this.removeFromBasket(index);\r\n                } else {\r\n                    this.$emit('basketRemove', index)\r\n                }\r\n            },\r\n\r\n            onBasketOrdering() {\r\n                this.$router.push({name: \"ordering\"});\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            ...mapGetters(modules.catalog, [\r\n                \"basket\",\r\n                \"categories\",\r\n                \"chosenCategory\"\r\n            ]),\r\n\r\n            rawCategories: function () {\r\n                let res = JSON.parse(JSON.stringify(this.categories));\r\n                res.forEach((item) => {\r\n                    if (item.isExpanded) {\r\n                        item.isExpanded = false;\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n\r\n            dataToBind: function() {\r\n                if (this.isComponent) {\r\n                    return this.rawCategories;\r\n                } else {\r\n                    return this.categories;\r\n                }\r\n\r\n            },\r\n        },\r\n\r\n        created() {\r\n            if (this.categories.length === 0) {\r\n                this.loadCategories();\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    .layout\r\n        width: 90%\r\n        margin: auto\r\n        max-width: 500px\r\n        font-family: Roboto, sans-serif\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryChoose.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryChoose.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryChoose.vue?vue&type=template&id=2c218267&scoped=true&\"\nimport script from \"./CategoryChoose.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryChoose.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryChoose.vue?vue&type=style&index=0&id=2c218267&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c218267\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyLoadImage.vue?vue&type=style&index=0&id=2e7638ec&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyLoadImage.vue?vue&type=style&index=0&id=2e7638ec&lang=sass&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleDroplist.vue?vue&type=style&index=0&id=3b43d364&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleDroplist.vue?vue&type=style&index=0&id=3b43d364&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basket-wrapper\"},[(_vm.isBasketWindowVisible)?_c('div',{staticClass:\"basket\",class:{ 'basket-minimized': _vm.isBasketWindowMinimizedComputed},attrs:{\"id\":\"basket\"}},[_c('div',{staticClass:\"top-bar\"},[(!_vm.isBasketWindowMinimizedComputed)?_c('img',{staticClass:\"clickable\",attrs:{\"src\":\"/svgs/window-minimize-big-white.svg\"},on:{\"click\":function($event){return _vm.onWindowMinimize(true)}}}):_vm._e(),(_vm.isBasketWindowMinimizedComputed)?_c('img',{staticClass:\"clickable\",attrs:{\"src\":\"/svgs/window-minimize-small-white.svg\"},on:{\"click\":function($event){return _vm.onWindowMinimize(false)}}}):_vm._e(),_c('img',{staticClass:\"clickable\",attrs:{\"src\":\"/svgs/times-white.svg\"},on:{\"click\":_vm.closeBasket}})]),_c('ProductsTable',{attrs:{\"data\":_vm.data,\"is-editable\":true,\"is-full-size\":false,\"height\":239},on:{\"remove\":function($event){return _vm.$emit('remove', $event)},\"quantityChange\":_vm.onQuantityChange}}),_c('div',{staticClass:\"bottom\"},[_c('p',{staticClass:\"totalSum\"},[_vm._v(\"Итого: \"),_c('span',[_vm._v(_vm._s(_vm.basketTotalPrice)+\"₴\")])]),(_vm.isBasketValid && _vm.basketTotalPrice > 0 && _vm.canBeOrdered)?_c('button',{staticClass:\"right\",on:{\"click\":function($event){return _vm.$emit('ordering')}}},[_vm._v(\"Оформить\")]):_vm._e()])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"basket-wrapper\">\r\n        <div class=\"basket\" v-if=\"isBasketWindowVisible\" id=\"basket\" v-bind:class=\"{ 'basket-minimized': isBasketWindowMinimizedComputed}\">\r\n\r\n            <div class=\"top-bar\">\r\n\r\n                <!--<div class=\"left\">\r\n                    <p class=\"title\">Итого: {{basketTotalPrice}}₴</p>\r\n\r\n                    <button v-if=\"isBasketValid && basketTotalPrice > 0 && canBeOrdered\" v-on:click=\"$emit('ordering')\">Оформить</button>\r\n                </div>-->\r\n\r\n                <!--<i class=\"far fa-window-minimize clickable\" v-if=\"!isBasketWindowMinimizedComputed\" v-on:click=\"onWindowMinimize(true)\"></i>\r\n                <i class=\"fas fa-window-minimize clickable\" v-if=\"isBasketWindowMinimizedComputed\" v-on:click=\"onWindowMinimize(false)\"></i>-->\r\n                <!--<i class=\"fas fa-expand clickable\"></i>-->\r\n                <img src=\"/svgs/window-minimize-big-white.svg\" class=\"clickable\" v-if=\"!isBasketWindowMinimizedComputed\" v-on:click=\"onWindowMinimize(true)\" />\r\n                <img src=\"/svgs/window-minimize-small-white.svg\" class=\"clickable\"  v-if=\"isBasketWindowMinimizedComputed\" v-on:click=\"onWindowMinimize(false)\" />\r\n\r\n                <img src=\"/svgs/times-white.svg\" class=\"clickable\"  v-on:click=\"closeBasket\" />\r\n            </div>\r\n\r\n            <ProductsTable @remove=\"$emit('remove', $event)\" @quantityChange=\"onQuantityChange\"\r\n                           v-bind:data=\"data\" :is-editable=\"true\"\r\n                           :is-full-size=\"false\" :height=\"239\">\r\n            </ProductsTable>\r\n\r\n            <div class=\"bottom\">\r\n                <p class=\"totalSum\">Итого: <span>{{basketTotalPrice}}₴</span></p>\r\n\r\n                <button v-if=\"isBasketValid && basketTotalPrice > 0 && canBeOrdered\" class=\"right\" v-on:click=\"$emit('ordering')\">Оформить</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapMutations, mapGetters } from 'vuex';\r\n    import modules from \"../../../store/all.modules.name\"\r\n    import mutations from \"../../../store/all.mutations.type\";\r\n    import ProductsTable from \"../ProductsTable\";\r\n\r\n    export default {\r\n        name: \"Basket\",\r\n\r\n        components: {ProductsTable},\r\n\r\n        props: {\r\n            data: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n\r\n            isMinimized: {\r\n                type: Boolean,\r\n                default: null,\r\n            },\r\n\r\n            onMinimize: {\r\n                type: Function,\r\n                default: null,\r\n            },\r\n\r\n            canBeOrdered: {\r\n                type: Boolean,\r\n                default: true,\r\n            }\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                basketWindow: {\r\n                    height: null,\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            ...mapMutations(modules.catalog, [\r\n                mutations.catalog.REMOVE_FROM_BASKET,\r\n                mutations.catalog.SET_IS_BASKET_MINIMIZED,\r\n                mutations.catalog.CLEAR,\r\n            ]),\r\n\r\n            onQuantityChange(payload) {\r\n                let {item, newQuantity} = payload;\r\n                item.boughtQuantity = newQuantity;\r\n            },\r\n\r\n            closeBasket() {\r\n                this.clear();\r\n            },\r\n\r\n            onWindowMinimize(newVal) {\r\n                if (this.onMinimize) {\r\n                    this.onMinimize(newVal);\r\n                } else {\r\n                    this.setIsBasketMinimized(newVal);\r\n                }\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            ...mapGetters(modules.catalog, [\r\n                \"basket\",\r\n                \"isBasketWindowMinimized\",\r\n                \"chosenCategory\"\r\n            ]),\r\n\r\n            ...mapGetters(modules.user, [\r\n                \"pricesType\"\r\n            ]),\r\n\r\n            isBasketWindowMinimizedComputed: function() {\r\n                if (this.isMinimized !== null && this.isMinimized !== undefined) {\r\n                    return this.isMinimized;\r\n                } else {\r\n                    return this.isBasketWindowMinimized\r\n                }\r\n            },\r\n\r\n            isBasketWindowVisible: function () {\r\n                return this.data.length !== 0\r\n            },\r\n\r\n            isBasketValid: function () {\r\n                let basket = this.data;\r\n\r\n                for (let i = 0; i < basket.length; i++) {\r\n                    if (!basket[i].isValid || !basket[i].boughtQuantity) {\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                return true;\r\n            },\r\n\r\n            basketTotalPrice: function() {\r\n\r\n                if (this.isBasketValid) {\r\n                    let res = 0,\r\n                        basket = this.data;\r\n\r\n                    for (let i = 0; i < basket.length; i++) {\r\n                        let price;\r\n                        if (this.pricesType in basket[i]) {\r\n                            price = basket[i][this.pricesType];\r\n                        } else {\r\n                            price = basket[i].price;\r\n                        }\r\n\r\n                        res += price * basket[i].boughtQuantity;\r\n                    }\r\n\r\n                    return Math.round(res * 1000) / 1000;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            },\r\n        },\r\n\r\n        created() {\r\n            /*if (mySessionStorage.has(storageKey)) {\r\n                this.basket = mySessionStorage.getObject(storageKey);\r\n            }*/\r\n        },\r\n\r\n        destroyed() {\r\n            /*if (this.basket.length !== 0)\r\n                mySessionStorage.addObject(storageKey, this.basket);*/\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n    @import '../../../assets/basic'\r\n\r\n    .basket-wrapper\r\n        width: 90%\r\n        max-width: 1200px\r\n        position: fixed\r\n        bottom: 0\r\n        left: 0\r\n        right: 0\r\n        margin-left: auto\r\n        margin-right: auto\r\n\r\n        .basket-minimized\r\n            height: 21px!important\r\n\r\n        .basket\r\n            position: absolute\r\n            overflow: hidden\r\n            width: 450px\r\n            height: 300px\r\n            transition: 0.5s\r\n            right: 0\r\n            bottom: 0\r\n            background-color: $background-color\r\n            box-shadow: 0 0 6px rgba(0,0,0,0.5)\r\n            border-radius: 5px 5px 0 0\r\n            font-family: Roboto, sans-serif\r\n\r\n            /*@include large\r\n                width: 50%*/\r\n\r\n            .top-bar\r\n                width: 100%\r\n                display: flex\r\n                justify-content: flex-end\r\n                background-color: $secondary-color\r\n                color: $background-color\r\n                border-radius: 5px 5px 0 0\r\n\r\n                img\r\n                    width: 18px\r\n                    height: 18px\r\n                    margin-right: 15px\r\n                    margin-top: 2.5px\r\n                    margin-bottom: 2.5px\r\n\r\n                .title\r\n                    //margin: 2.5px auto 2.5px 5px\r\n\r\n                .left\r\n                    margin: 0.15rem auto 0.15rem 0.5rem\r\n\r\n                    p\r\n                        display: inline-block\r\n                        margin: 0\r\n\r\n                    button\r\n                        display: inline-block\r\n                        margin-left: 1rem\r\n                        background-color: $secondary-color\r\n                        border-radius: 3px\r\n                        font-size: 0.9rem\r\n                        border: 1px solid $background-color\r\n                        color: $background-color\r\n                        cursor: pointer\r\n\r\n            .table-wrapper\r\n                overflow-y: auto\r\n                height: 239px\r\n\r\n            .bottom\r\n                display: flex\r\n                padding: 5px\r\n                border-top: 2px solid #777777\r\n\r\n                p\r\n                    margin-top: auto\r\n                    margin-bottom: auto\r\n                    padding: 2px 5px\r\n                    border-radius: 5px\r\n                    background-color: $secondary-color\r\n                    color: $background-color\r\n\r\n                button\r\n                    display: inline-block\r\n                    height: 30px\r\n                    margin-left: 1rem\r\n                    background-color: $secondary-color\r\n                    border-radius: 3px\r\n                    font-size: 0.9rem\r\n                    border: 1px solid $background-color\r\n                    color: $background-color\r\n                    cursor: pointer\r\n\r\n                .right\r\n                    margin-left: auto\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Basket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Basket.vue?vue&type=template&id=c354353a&scoped=true&\"\nimport script from \"./Basket.vue?vue&type=script&lang=js&\"\nexport * from \"./Basket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Basket.vue?vue&type=style&index=0&id=c354353a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c354353a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}